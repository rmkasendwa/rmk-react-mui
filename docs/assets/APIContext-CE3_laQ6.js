import{j as p}from"./jsx-runtime-DoEZbXM1.js";import{r as e}from"./index-DyFhm7NF.js";const m=["User session timed out","Session timed out","Invalid token","Session expired","User session expired","Unauthorized"],i=e.createContext({}),x=({children:a,onSessionExpired:r})=>{const t=e.useRef(r);t.current=r;const[s,o]=e.useState(!1),u=e.useCallback(async c=>c().catch(n=>{throw m.some(d=>String(n.message).toLowerCase().match(String(d).toLowerCase()))&&o(!0),n}),[]);return e.useEffect(()=>{s&&t.current&&t.current()},[s]),p.jsx(i.Provider,{value:{call:u,sessionExpired:s,setSessionExpired:o},children:a})},l=()=>e.useContext(i);x.__docgenInfo={description:"",methods:[],displayName:"APIProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},onSessionExpired:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{x as A,l as u};
