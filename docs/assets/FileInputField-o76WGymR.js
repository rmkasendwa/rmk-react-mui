import{j as e}from"./jsx-runtime-DoEZbXM1.js";import{b as x}from"./bytes-DQaK7KIG.js";import{C as B}from"./Close-BjwsHb0e.js";import{C as N}from"./CloudUpload-BmxyXxPz.js";import{c as k,e as O,g as P,f as R}from"./defaultTheme-p7chgXuo.js";import{r}from"./index-DyFhm7NF.js";import{T as F}from"./Tooltip-DvI5SBDW.js";import{T as U,I as $}from"./SearchSyncToolbar-BnnCoHC4.js";import{u as z}from"./useThemeProps-Bd4KMueQ.js";import{I as g}from"./IconButton-A2NwtEd5.js";import{B as A}from"./Button-UL46O9fT.js";const M=o=>P("MuiFileInputField",o),b={root:["root"]};R("MuiFileInputField",Object.keys(b));const S=r.forwardRef(function(j,y){const C=z({props:j,name:"MuiFileInputField"}),{className:a,onClick:c,onChange:u,value:i,name:p,disabled:l,showClearButton:I=!0,sx:v,...E}=C,T=k(b,M,(()=>{if(a)return{root:a}})()),s=r.useRef(null),[m,n]=r.useState("");return r.useEffect(()=>{n(i?`${i.name} (${x.formatBytes(i.size)})`:"")},[i]),e.jsxs(e.Fragment,{children:[e.jsx("input",{ref:s,type:"file",style:{display:"none"},onChange:t=>{var d,h;t.target.files&&t.target.files.length>0?n(`${t.target.files[0].name} (${x.formatBytes(t.target.files[0].size)})`):n("");const w={name:p,value:(h=(d=t.target)==null?void 0:d.files)==null?void 0:h[0]},f=new Event("change",{bubbles:!0});Object.defineProperty(f,"target",{writable:!1,value:w}),u&&u(f)}}),e.jsx(U,{ref:y,...E,className:O(T.root),name:p,disabled:l,value:m,onClick:t=>{s.current&&s.current.click(),c&&c(t)},slotProps:{input:{startAdornment:l?null:e.jsx($,{position:"start",children:e.jsx(A,{variant:"contained",color:"inherit",size:"small",sx:{height:24,fontWeight:"normal"},children:"Choose File"})}),endAdornment:e.jsxs(e.Fragment,{children:[I&&m&&!l?e.jsx(F,{title:"Clear",children:e.jsx(g,{className:"file-input-clear-button",onClick:t=>{t.stopPropagation(),s.current&&(s.current.value="",s.current.dispatchEvent(new Event("change",{bubbles:!0})))},sx:{p:.4},children:e.jsx(B,{color:"inherit"})})}):null,e.jsx(F,{title:"Select a file",children:e.jsx(g,{sx:{p:.4},children:e.jsx(N,{color:"inherit"})})})]}),readOnly:!0}},sx:{"& .file-input-clear-button":{visibility:"hidden"},"&:hover .file-input-clear-button":{visibility:"visible"},...v}})]})});S.__docgenInfo={description:"",methods:[],displayName:"FileInputField",props:{value:{required:!1,tsType:{name:"union",raw:"File | null",elements:[{name:"File"},{name:"null"}]},description:""}},composes:["Omit"]};export{S as F};
