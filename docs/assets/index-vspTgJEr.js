const P=t=>typeof t=="object"&&t!=null&&t.nodeType===1,Q=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",q=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const r=getComputedStyle(t,null);return Q(r.overflowY,e)||Q(r.overflowX,e)||(a=>{const l=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(a);return!!l&&(l.clientHeight<a.scrollHeight||l.clientWidth<a.scrollWidth)})(t)}return!1},D=(t,e,r,a,l,o,f,i)=>o<t&&f>e||o>t&&f<e?0:o<=t&&i<=r||f>=e&&i>=r?o-t-a:f>e&&i<r||o<t&&i>r?f-e+l:0,tt=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},U=(t,e)=>{var r,a,l,o;if(typeof document>"u")return[];const{scrollMode:f,block:i,inline:h,boundary:F,skipOverflowHiddenElements:Z}=e,_=typeof F=="function"?F:y=>y!==F;if(!P(t))throw new TypeError("Invalid target");const z=document.scrollingElement||document.documentElement,H=[];let s=t;for(;P(s)&&_(s);){if(s=tt(s),s===z){H.push(s);break}s!=null&&s===document.body&&q(s)&&!q(document.documentElement)||s!=null&&q(s,Z)&&H.push(s)}const g=(a=(r=window.visualViewport)==null?void 0:r.width)!=null?a:innerWidth,m=(o=(l=window.visualViewport)==null?void 0:l.height)!=null?o:innerHeight,{scrollX:b,scrollY:w}=window,{height:W,width:v,top:M,right:L,bottom:O,left:E}=t.getBoundingClientRect();let c=i==="start"||i==="nearest"?M:i==="end"?O:M+W/2,d=h==="center"?E+v/2:h==="end"?L:E;const X=[];for(let y=0;y<H.length;y++){const n=H[y],{height:k,width:C,top:R,right:Y,bottom:$,left:x}=n.getBoundingClientRect();if(f==="if-needed"&&M>=0&&E>=0&&O<=m&&L<=g&&M>=R&&O<=$&&E>=x&&L<=Y)return X;const I=getComputedStyle(n),N=parseInt(I.borderLeftWidth,10),T=parseInt(I.borderTopWidth,10),B=parseInt(I.borderRightWidth,10),S=parseInt(I.borderBottomWidth,10);let u=0,p=0;const V="offsetWidth"in n?n.offsetWidth-n.clientWidth-N-B:0,j="offsetHeight"in n?n.offsetHeight-n.clientHeight-T-S:0,A="offsetWidth"in n?n.offsetWidth===0?0:C/n.offsetWidth:0,G="offsetHeight"in n?n.offsetHeight===0?0:k/n.offsetHeight:0;if(z===n)u=i==="start"?c:i==="end"?c-m:i==="nearest"?D(w,w+m,m,T,S,w+c,w+c+W,W):c-m/2,p=h==="start"?d:h==="center"?d-g/2:h==="end"?d-g:D(b,b+g,g,N,B,b+d,b+d+v,v),u=Math.max(0,u+w),p=Math.max(0,p+b);else{u=i==="start"?c-R-T:i==="end"?c-$+S+j:i==="nearest"?D(R,$,k,T,S+j,c,c+W,W):c-(R+k/2)+j/2,p=h==="start"?d-x-N:h==="center"?d-(x+C/2)+V/2:h==="end"?d-Y+B+V:D(x,Y,C,N,B+V,d,d+v,v);const{scrollLeft:J,scrollTop:K}=n;u=Math.max(0,Math.min(K+u/G,n.scrollHeight-k/G+j)),p=Math.max(0,Math.min(J+p/A,n.scrollWidth-C/A+V)),c+=K-u,d+=J-p}X.push({el:n,top:u,left:p})}return X},et=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function ot(t,e){if(!t.isConnected||!(l=>{let o=l;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(t))return;const r=(l=>{const o=window.getComputedStyle(l);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(t);if((l=>typeof l=="object"&&typeof l.behavior=="function")(e))return e.behavior(U(t,e));const a=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:l,top:o,left:f}of U(t,et(e))){const i=o-r.top+r.bottom,h=f-r.left+r.right;l.scroll({top:i,left:h,behavior:a})}}export{ot as e};
