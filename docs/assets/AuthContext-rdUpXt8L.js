import"./jsx-runtime-DoEZbXM1.js";import{g as K,r as _}from"./index-DyFhm7NF.js";import{r as I}from"./index-CrueqoMl.js";import"./APIContext-CE3_laQ6.js";import"./data-qU85DSPb.js";var l={},b={},j;function N(){return j||(j=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.encrypt=o.decrypt=void 0;var e=I(),u=e.enc.Hex,E=e.enc.Utf8,y=e.pad.Pkcs7,f=e.mode.CBC,v=e.lib.WordArray,n=256,r=100,t=function(a,i){a=a.replace(/@xZ/gm,"/");var c=128/4,g=u.parse(a.substr(0,c)),d=u.parse(a.substr(c,c)),h=(0,e.PBKDF2)(i,g,{keySize:n/32,iterations:r}),S=e.AES.decrypt(a.substring(c*2),h,{iv:d,padding:y,mode:f});try{return S.toString(E)}catch{return a}};o.decrypt=t;var p=function(a,i,c){c===void 0&&(c=!0);var g=function(){if(c===!1){var d=(0,e.MD5)(i),h=(0,e.PBKDF2)(i,d,{keySize:n/32,iterations:r}),S=(0,e.MD5)(a);return d.toString()+S.toString()+e.AES.encrypt(a,h,{iv:S,padding:y,mode:f}).toString()}var A=128,s=v.random(A/8),x=(0,e.PBKDF2)(i,s,{keySize:n/32,iterations:r}),M=v.random(A/8);return s.toString()+M.toString()+e.AES.encrypt(a,x,{iv:M,padding:y,mode:f}).toString()}();try{return(0,o.decrypt)(g,i)===a?g.replace(/\//gm,"@xZ"):(0,o.encrypt)(a,i)}catch{return(0,o.encrypt)(a,i)}};o.encrypt=p}(b)),b}var D;function O(){if(D)return l;D=1;var o={};Object.defineProperty(l,"__esModule",{value:!0});var e=I(),u=N(),E=e.enc.Base64,y=o.ENCRYPTION_KEY||o.APP_NAME||o.REACT_APP_NAME||function(){if(typeof window<"u")return window.location.origin}()||"A really trivial key",f=function(n){return E.stringify((0,e.HmacSHA512)(n,y)).substring(0,n.length)},v={add:function(n,r,t){var p=this;if(typeof window<"u"){var a=typeof t=="object"?t.isSessionValue:t;typeof r=="object"&&(r=JSON.stringify(r)),r=function(){var i=typeof r;return i==="bigint"||i==="number"||i==="boolean"?"".concat(r,";;;").concat(i):r}(),r=(0,u.encrypt)(r,n),(a?sessionStorage:localStorage).setItem(f(n),btoa(r)),typeof t=="object"&&t.expiry&&setTimeout(function(){return p.remove(n,a)},t.expiry)}},get:function(n,r){if(r===void 0&&(r=!1),typeof window<"u"){var t=(r?sessionStorage:localStorage).getItem(f(n));if(t){t=(0,u.decrypt)(atob(t),n),t=function(){return t.match(";;;")?t.split(";;;")[0]:t}();try{return JSON.parse(t)}catch{return t}}}return null},remove:function(n,r){r===void 0&&(r=!1),typeof window<"u"&&(r?sessionStorage:localStorage).removeItem(f(n))},clear:function(n){n===void 0&&(n=!1);var r=n?sessionStorage:localStorage;r&&Object.keys(r).forEach(function(t){r.removeItem(t)})}};return l.default=v,l}var B=O();const P=K(B),m="cached-data";let C=P.get(`${m}-keys`)||[];Array.isArray(C)||(C=[]);const k=P.get("data")||{};C.forEach(o=>{const e=P.get(`${m}-${o}`);e&&Object.assign(k,{[o]:e})});const R=_.createContext({}),Y=()=>_.useContext(R);export{P as S,Y as u};
