import{j as p}from"./jsx-runtime-DoEZbXM1.js";import{c as z,e as j,g as E,f as T}from"./defaultTheme-p7chgXuo.js";import{r as b}from"./index-DyFhm7NF.js";import{u as U}from"./LoadingContext-BtWGSAhI.js";import{S as q,E as H}from"./ErrorSkeleton-BVzoEatx.js";import{u as W}from"./useThemeProps-Bd4KMueQ.js";import{A as _}from"./Avatar-Cmpc5D-G.js";const k=e=>{e=e.trim();const i=/<([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*)>$/,n=e.match(i);if(n){const[,h]=n;return{name:e.replace(i,"").trim(),email:h}}return{name:e}},L=e=>E("MuiProfileAvatar",e),C={root:["root"]};T("MuiProfileAvatar",Object.keys(C));const R=b.forwardRef(function(i,n){const h=W({props:i,name:"MuiProfileAvatar"}),{label:s,sx:u,size:r=32,defaultAvatar:f="standard",children:x,className:d,enableLoadingState:S=!0,...P}=h,y=z(C,L,(()=>{if(d)return{root:d}})()),{bgcolor:I,color:M}=b.useMemo(()=>{if(s&&["hueShiftingInitials","highContrastHueShiftingIntials"].includes(f)){const a=s.replaceAll(/\s/g,"").toUpperCase(),t=a.length*26,A=a.split("").reduce((l,c)=>l+c.charCodeAt(0)-65,0),v=a.length*9;let o=A+(a.length%2===0?v:-v);o<0&&(o=0),o>t&&(o=t);const m=o/t*360,g=(t-A)/t*100;switch(f){case"hueShiftingInitials":{const l=`hsl(${m},${g}%, 85%) !important`,c=`hsl(${m},${g}%, 30%) !important`;return{bgcolor:l,color:c}}case"highContrastHueShiftingIntials":return{bgcolor:`hsl(${m},${g}%, 30%) !important`,color:"#fff !important"}}}return{}},[f,s]),{loading:$,errorMessage:w}=U();if(S){if($)return p.jsx(q,{variant:"circular",sx:{width:r,height:r,...u}});if(w)return p.jsx(H,{variant:"circular",sx:{width:r,height:r,...u}})}return p.jsx(_,{...P,className:j(y.root),ref:n,sx:{fontSize:Math.round(r/2.5),bgcolor:I,color:M,width:r,height:r,...u},children:s?(()=>{const{name:a}=k(s),t=a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\-_\s]/g,"").split(/\s+/g);return t.length>1?t[0].charAt(0)+t[t.length-1].charAt(0):t[0].charAt(0)})().toUpperCase():x})});R.__docgenInfo={description:"",methods:[],displayName:"ProfileAvatar",props:{label:{required:!1,tsType:{name:"string"},description:""},defaultAvatar:{required:!1,tsType:{name:"union",raw:`| 'standard'
| 'hueShiftingInitials'
| 'highContrastHueShiftingIntials'`,elements:[{name:"literal",value:"'standard'"},{name:"literal",value:"'hueShiftingInitials'"},{name:"literal",value:"'highContrastHueShiftingIntials'"}]},description:""},size:{required:!1,tsType:{name:"number"},description:""},enableLoadingState:{required:!1,tsType:{name:"boolean"},description:""}},composes:["AvatarProps"]};export{R as P,k as p};
