import{j as r}from"./jsx-runtime-DoEZbXM1.js";import{r as f}from"./index-DyFhm7NF.js";import{M as k}from"./SearchSyncToolbar-BD-kT8Me.js";import{u as N}from"./useTheme-3fQBR54N.js";import{u as P}from"./dates-CvympFuk.js";import{C as E}from"./Card-DZM0fdGV.js";import{D as q}from"./List-BTl9Ld56.js";import{g as w,f as v,e as R,c as T,a as h}from"./defaultTheme-p7chgXuo.js";import{u as M,s as S}from"./DefaultPropsProvider-egKEaGQO.js";import{P as O}from"./Tooltip-DvI5SBDW.js";import{G as H}from"./Grow-CmgiTL0Y.js";import{B as j}from"./Box-Cv6nAA57.js";import{C as U}from"./ClickAwayListener-C4Bzfge9.js";function I(e){return w("MuiCardActions",e)}v("MuiCardActions",["root","spacing"]);const L=e=>{const{classes:s,disableSpacing:t}=e;return T({root:["root",!t&&"spacing"]},I,s)},B=S("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:t}=e;return[s.root,!t.disableSpacing&&s.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),D=f.forwardRef(function(s,t){const l=M({props:s,name:"MuiCardActions"}),{disableSpacing:u=!1,className:n,...d}=l,p={...l,disableSpacing:u},m=L(p);return r.jsx(B,{className:R(m.root,n),ownerState:p,ref:t,...d})});function z(e){return w("MuiCardContent",e)}v("MuiCardContent",["root"]);const G=e=>{const{classes:s}=e;return T({root:["root"]},z,s)},_=S("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,s)=>s.root})({padding:16,"&:last-child":{paddingBottom:24}}),K=f.forwardRef(function(s,t){const l=M({props:s,name:"MuiCardContent"}),{className:u,component:n="div",...d}=l,p={...l,component:n},m=G(p);return r.jsx(_,{as:n,className:R(m.root,u),ownerState:p,ref:t,...d})}),A=({anchorRef:e,wrapBodyContentInCard:s,popupCardTitle:t,BodyContentProps:l={},bodyContent:u,getBodyContent:n,footerContent:d,togglePopupFunctionRef:p})=>{const{sx:m,...a}=l,{palette:o,breakpoints:x}=N(),i=P(x.down("sm")),[c,C]=f.useState(!1);p.current=y=>{C(y)};const b=s?r.jsxs(E,{variant:"outlined",sx:{...(()=>{if(i)return{border:"none"}})()},children:[(()=>{if(t)return r.jsxs(r.Fragment,{children:[t,r.jsx(q,{})]})})(),r.jsx(K,{...a,sx:{maxHeight:"calc(100vh - 210px)",minWidth:400,overflowY:"auto",bgcolor:h(o.background.paper,.7),backdropFilter:"blur(20px)","&,&:last-child":{py:1},px:2,...m},children:(n==null?void 0:n())??u}),d?r.jsx(D,{sx:{bgcolor:h(o.text.primary,.05),px:3,py:.5},children:d}):null]}):(n==null?void 0:n())??u;return i?r.jsx(k,{open:c,onClose:()=>{C(!1)},CardProps:{sx:{maxHeight:"none"}},CardBodyProps:{sx:{p:0}},disableEscapeKeyDown:!1,disableAutoFocus:!1,showHeaderToolbar:!1,enableCloseOnBackdropClick:!0,sx:{alignItems:"center",justifyContent:"center"},children:b}):r.jsx(O,{open:c,anchorEl:e.current,transition:!0,placement:"bottom-start",sx:{zIndex:9999},children:({TransitionProps:y})=>r.jsx(H,{...y,children:r.jsx(j,{children:r.jsx(U,{onClickAway:()=>C(!1),children:r.jsx(j,{children:b})})})})})},te=({popupCardTitle:e,getBodyContent:s,bodyContent:t,BodyContentProps:l={},footerContent:u,wrapBodyContentInCard:n=!0,onTogglePopup:d,...p})=>{const m=f.useRef(null),a=f.useRef(void 0),o=f.useRef(d);o.current=d;const x=f.useCallback(i=>{var c,C;(c=a.current)==null||c.call(a,i),(C=o.current)==null||C.call(o,i)},[]);return{color:"inherit",...p,ref:m,type:"button",onClick:()=>{var i,c;(i=a.current)==null||i.call(a,!0),(c=o.current)==null||c.call(o,!0)},popupElement:r.jsx(A,{anchorRef:m,wrapBodyContentInCard:n,popupCardTitle:e,BodyContentProps:l,bodyContent:t,getBodyContent:s,footerContent:u,togglePopupFunctionRef:a}),extraToolProps:{closePopup:()=>{var i,c;(i=a.current)==null||i.call(a,!1),(c=o.current)==null||c.call(o,!1)}},setOpen:x}};A.__docgenInfo={description:"",methods:[],displayName:"PopupToolPopover",props:{anchorRef:{required:!0,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLButtonElement | null>",elements:[{name:"union",raw:"HTMLButtonElement | null",elements:[{name:"HTMLButtonElement"},{name:"null"}]}]},description:""},wrapBodyContentInCard:{required:!1,tsType:{name:"boolean"},description:""},popupCardTitle:{required:!1,tsType:{name:"ReactNode"},description:""},BodyContentProps:{required:!1,tsType:{name:"Partial",elements:[{name:"CardContentProps"}],raw:"Partial<CardContentProps>"},description:"",defaultValue:{value:"{}",computed:!1}},bodyContent:{required:!1,tsType:{name:"ReactNode"},description:""},getBodyContent:{required:!1,tsType:{name:"signature",type:"function",raw:"() => ReactNode",signature:{arguments:[],return:{name:"ReactNode"}}},description:""},footerContent:{required:!1,tsType:{name:"ReactNode"},description:""},togglePopupFunctionRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"union",raw:"((open: boolean) => void) | undefined",elements:[{name:"unknown"},{name:"undefined"}]}],raw:"RefObject<((open: boolean) => void) | undefined>"},description:""}}};export{te as u};
