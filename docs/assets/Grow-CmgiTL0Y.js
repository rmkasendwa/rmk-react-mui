import{r as c}from"./index-DyFhm7NF.js";import{j as A}from"./jsx-runtime-DoEZbXM1.js";import{u as M}from"./useTheme-3fQBR54N.js";import{T as N,g as O,a as j,r as Q}from"./utils-DsEKjbah.js";import{b as U}from"./TransitionGroupContext-DDx4AGHL.js";import{u as V}from"./useForkRef-CH5D7H94.js";const C=c.createContext();function it({value:r,...f}){return A.jsx(C.Provider,{value:r??!0,...f})}const ot=()=>c.useContext(C)??!1;function h(r){return`scale(${r}, ${r**2})`}const X={entering:{opacity:1,transform:h(1)},entered:{opacity:1,transform:"none"}},p=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),w=c.forwardRef(function(f,D){const{addEndListener:x,appear:H=!0,children:m,easing:y,in:R,onEnter:v,onEntered:P,onEntering:F,onExit:T,onExited:G,onExiting:L,style:g,timeout:i="auto",TransitionComponent:S=N,...b}=f,$=U(),E=c.useRef(),s=M(),d=c.useRef(null),z=V(d,O(m),D),a=t=>o=>{if(t){const n=d.current;o===void 0?t(n):t(n,o)}},K=a(F),W=a((t,o)=>{Q(t);const{duration:n,delay:l,easing:e}=j({style:g,timeout:i,easing:y},{mode:"enter"});let u;i==="auto"?(u=s.transitions.getAutoHeightDuration(t.clientHeight),E.current=u):u=n,t.style.transition=[s.transitions.create("opacity",{duration:u,delay:l}),s.transitions.create("transform",{duration:p?u:u*.666,delay:l,easing:e})].join(","),v&&v(t,o)}),_=a(P),k=a(L),q=a(t=>{const{duration:o,delay:n,easing:l}=j({style:g,timeout:i,easing:y},{mode:"exit"});let e;i==="auto"?(e=s.transitions.getAutoHeightDuration(t.clientHeight),E.current=e):e=o,t.style.transition=[s.transitions.create("opacity",{duration:e,delay:n}),s.transitions.create("transform",{duration:p?e:e*.666,delay:p?n:n||e*.333,easing:l})].join(","),t.style.opacity=0,t.style.transform=h(.75),T&&T(t)}),B=a(G),J=t=>{i==="auto"&&$.start(E.current||0,t),x&&x(d.current,t)};return A.jsx(S,{appear:H,in:R,nodeRef:d,onEnter:W,onEntered:_,onEntering:K,onExit:q,onExited:B,onExiting:k,addEndListener:J,timeout:i==="auto"?null:i,...b,children:(t,{ownerState:o,...n})=>c.cloneElement(m,{style:{opacity:0,transform:h(.75),visibility:t==="exited"&&!R?"hidden":void 0,...X[t],...g,...m.props.style},ref:z,...n})})});w&&(w.muiSupportAuto=!0);export{w as G,it as R,ot as u};
