(self.webpackChunk_infinite_debugger_react_mui=self.webpackChunk_infinite_debugger_react_mui||[]).push([[1438],{"./node_modules/@infinite-debugger/rmk-utils/Cypher.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.encrypt=exports.decrypt=void 0;var crypto_js_1=__webpack_require__("./node_modules/crypto-js/index.js"),Hex=crypto_js_1.enc.Hex,Utf8=crypto_js_1.enc.Utf8,Pkcs7=crypto_js_1.pad.Pkcs7,CBC=crypto_js_1.mode.CBC,WordArray=crypto_js_1.lib.WordArray;exports.decrypt=function(transitmessage,password){transitmessage=transitmessage.replace(/@xZ/gm,"/");var salt=Hex.parse(transitmessage.substr(0,32)),iv=Hex.parse(transitmessage.substr(32,32)),key=(0,crypto_js_1.PBKDF2)(password,salt,{keySize:8,iterations:100}),decrypted=crypto_js_1.AES.decrypt(transitmessage.substring(64),key,{iv:iv,padding:Pkcs7,mode:CBC});try{return decrypted.toString(Utf8)}catch(exception){return transitmessage}};exports.encrypt=function(message,password,random){void 0===random&&(random=!0);var encrypted=function(){if(!1===random){var salt_1=(0,crypto_js_1.MD5)(password),key_1=(0,crypto_js_1.PBKDF2)(password,salt_1,{keySize:8,iterations:100}),iv_1=(0,crypto_js_1.MD5)(message);return salt_1.toString()+iv_1.toString()+crypto_js_1.AES.encrypt(message,key_1,{iv:iv_1,padding:Pkcs7,mode:CBC}).toString()}var salt=WordArray.random(16),key=(0,crypto_js_1.PBKDF2)(password,salt,{keySize:8,iterations:100}),iv=WordArray.random(16);return salt.toString()+iv.toString()+crypto_js_1.AES.encrypt(message,key,{iv:iv,padding:Pkcs7,mode:CBC}).toString()}();try{return(0,exports.decrypt)(encrypted,password)===message?encrypted.replace(/\//gm,"@xZ"):(0,exports.encrypt)(message,password)}catch(exception){return(0,exports.encrypt)(message,password)}}},"./node_modules/@infinite-debugger/rmk-utils/StorageManager.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var process=__webpack_require__("./node_modules/process/browser.js");var crypto_js_1=__webpack_require__("./node_modules/crypto-js/index.js"),Cypher_1=__webpack_require__("./node_modules/@infinite-debugger/rmk-utils/Cypher.js"),Base64=crypto_js_1.enc.Base64,ENCRYPTION_KEY=process.env.ENCRYPTION_KEY||process.env.APP_NAME||process.env.REACT_APP_NAME||function(){if("undefined"!=typeof window)return window.location.origin}()||"A really trivial key",getEncryptedKey=function(key){return Base64.stringify((0,crypto_js_1.HmacSHA512)(key,ENCRYPTION_KEY)).substring(0,key.length)},StorageManager={add:function(key,value,options){var dataType,_this=this;if("undefined"!=typeof window){var isSessionValue_1="object"==typeof options?options.isSessionValue:options;"object"==typeof value&&(value=JSON.stringify(value)),value="bigint"===(dataType=typeof value)||"number"===dataType||"boolean"===dataType?"".concat(value,";;;").concat(dataType):value,value=(0,Cypher_1.encrypt)(value,key),(isSessionValue_1?sessionStorage:localStorage).setItem(getEncryptedKey(key),btoa(value)),"object"==typeof options&&options.expiry&&setTimeout((function(){return _this.remove(key,isSessionValue_1)}),options.expiry)}},get:function(key,isSessionValue){if(void 0===isSessionValue&&(isSessionValue=!1),"undefined"!=typeof window){var item_1=(isSessionValue?sessionStorage:localStorage).getItem(getEncryptedKey(key));if(item_1){item_1=(item_1=(0,Cypher_1.decrypt)(atob(item_1),key)).match(";;;")?item_1.split(";;;")[0]:item_1;try{return JSON.parse(item_1)}catch(err){return item_1}}}return null},remove:function(key,isSessionValue){void 0===isSessionValue&&(isSessionValue=!1),"undefined"!=typeof window&&(isSessionValue?sessionStorage:localStorage).removeItem(getEncryptedKey(key))},clear:function(session){void 0===session&&(session=!1);var storage=session?sessionStorage:localStorage;storage&&Object.keys(storage).forEach((function(key){storage.removeItem(key)}))}};exports.Z=StorageManager},"./node_modules/@infinite-debugger/rmk-utils/bytes.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatBytes=void 0;exports.formatBytes=function(bytes){return bytes<1024?"".concat(bytes," bytes"):bytes<1048576?"".concat((bytes/1024).toFixed(2)," KB"):bytes<1073741824?"".concat((bytes/1048576).toFixed(2)," MB"):"".concat((bytes/1073741824).toFixed(2)," GB")}},"./node_modules/@infinite-debugger/rmk-utils/data.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";exports.bW=exports.Bl=exports.Hg=void 0;var lodash_1=__webpack_require__("./node_modules/lodash/lodash.js"),bytes_1=__webpack_require__("./node_modules/@infinite-debugger/rmk-utils/bytes.js");exports.Hg=function(updatedData,originalData,biDirectional){void 0===biDirectional&&(biDirectional=!1);var dataDiff=(0,lodash_1.omitBy)(updatedData,(function(value,key){if("object"==typeof(null==originalData?void 0:originalData[key])){var similar=(0,lodash_1.isEmpty)((0,exports.Hg)(updatedData[key],originalData[key]));return similar?(0,lodash_1.isEmpty)((0,exports.Hg)(originalData[key],updatedData[key])):similar}return(null==originalData?void 0:originalData[key])===value}));if(biDirectional){var mirrorDiff=(0,exports.Hg)(originalData,updatedData);for(var key in mirrorDiff)!(null==dataDiff?void 0:dataDiff[key])&&(null==mirrorDiff?void 0:mirrorDiff[key])&&(dataDiff[key]=mirrorDiff[key])}return dataDiff};exports.Bl=function(object,formatted){void 0===formatted&&(formatted=!1);var bytes=0;if(null!=object)switch(typeof object){case"number":bytes+=8;break;case"string":bytes+=2*object.length;break;case"boolean":bytes+=4;break;case"object":var objectClass=Object.prototype.toString.call(object).slice(8,-1);if("Object"===objectClass||"Array"===objectClass)for(var key in object)object.hasOwnProperty(key)&&(bytes+=(0,exports.Bl)(object[key]));else bytes+=2*object.toString().length}return formatted?(0,bytes_1.formatBytes)(bytes):bytes};exports.bW=function(csvData,delimiter){void 0===delimiter&&(delimiter=",");for(var lines=csvData.split("\n"),headers=lines[0].split(delimiter),rows=[],i=1;i<lines.length;i++){var line=lines[i].trim();if(""!==line){for(var values=[],currentField="",insideQuotes=!1,j=0;j<line.length;j++){var char=line[j];'"'===char?insideQuotes=!insideQuotes:char!==delimiter||insideQuotes?currentField+=char:(values.push(currentField.trim()),currentField="")}values.push(currentField.trim());var row={};for(j=0;j<headers.length;j++){var header=headers[j].trim(),value=values[j]?values[j].trim():"";row[header]=value}rows.push(row)}}return rows}},"./node_modules/@mui/material/esm/Container/Container.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _mui_system__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/system/esm/Container/createContainer.js"),_utils_capitalize__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/utils/capitalize.js"),_styles_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/material/esm/styles/styled.js"),_styles_useThemeProps__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/esm/styles/useThemeProps.js");const Container=(0,_mui_system__WEBPACK_IMPORTED_MODULE_0__.Z)({createStyledComponent:(0,_styles_styled__WEBPACK_IMPORTED_MODULE_1__.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState:ownerState}=props;return[styles.root,styles[`maxWidth${(0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_2__.Z)(String(ownerState.maxWidth))}`],ownerState.fixed&&styles.fixed,ownerState.disableGutters&&styles.disableGutters]}}),useThemeProps:inProps=>(0,_styles_useThemeProps__WEBPACK_IMPORTED_MODULE_3__.Z)({props:inProps,name:"MuiContainer"})});__webpack_exports__.Z=Container},"./src/components/ErrorPages/ErrorPage.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{ZP:function(){return ErrorPages_ErrorPage}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),generateUtilityClass_generateUtilityClass=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js"),generateUtilityClasses=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js"),useThemeProps=__webpack_require__("./node_modules/@mui/material/esm/styles/useThemeProps.js"),composeClasses=__webpack_require__("./node_modules/@mui/utils/esm/composeClasses/composeClasses.js"),useTheme=__webpack_require__("./node_modules/@mui/material/esm/styles/useTheme.js"),Box=__webpack_require__("./node_modules/@mui/material/esm/Box/Box.js"),Container=__webpack_require__("./node_modules/@mui/material/esm/Container/Container.js"),Typography=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),colorManipulator=__webpack_require__("./node_modules/@mui/system/esm/colorManipulator.js"),Grid=__webpack_require__("./node_modules/@mui/material/esm/Grid/Grid.js"),Button=__webpack_require__("./node_modules/@mui/material/esm/Button/Button.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-router/dist/index.js"),react_router_dom_dist=__webpack_require__("./node_modules/react-router-dom/dist/index.js"),AuthContext=__webpack_require__("./src/contexts/AuthContext.tsx"),rmk_utils_StorageManager=__webpack_require__("./node_modules/@infinite-debugger/rmk-utils/StorageManager.js");function getHtmlHeadUtilityClass(slot){return generateUtilityClass("MuiHtmlHead",slot)}(0,generateUtilityClasses.Z)("MuiHtmlHead",["root"]);var HtmlHead=function HtmlHead(inProps){var props=(0,useThemeProps.Z)({props:inProps,name:"MuiHtmlHead"}),title=props.title,description=props.description,_props$showApplicatio=props.showApplicationName,showApplicationName=void 0!==_props$showApplicatio&&_props$showApplicatio,_props$applicationNam=props.applicationName,applicationName=void 0===_props$applicationNam?"Application":_props$applicationNam;return(0,react.useEffect)((function(){if(title){var history=rmk_utils_StorageManager.Z.get("page-history")||[];history.unshift({title:title,pathName:window.location.pathname,search:window.location.search}),history.splice(500),rmk_utils_StorageManager.Z.add("page-history",history);var titleElement=document.head.querySelector("title");null!=titleElement&&(titleElement.innerText=showApplicationName?"".concat(title," | ").concat(applicationName):title)}else{var _titleElement=document.head.querySelector("title");null!=_titleElement&&applicationName&&(_titleElement.innerText=applicationName)}}),[applicationName,showApplicationName,title]),(0,react.useEffect)((function(){if(description){var descriptionMetaElement=document.head.querySelector('meta[name="description"]');descriptionMetaElement||((descriptionMetaElement=document.createElement("meta")).setAttribute("name","description"),document.head.append(descriptionMetaElement)),descriptionMetaElement.setAttribute("content",description)}}),[description]),null},components_HtmlHead=HtmlHead;try{getHtmlHeadUtilityClass.displayName="getHtmlHeadUtilityClass",getHtmlHeadUtilityClass.__docgenInfo={description:"",displayName:"getHtmlHeadUtilityClass",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/HtmlHead.tsx#getHtmlHeadUtilityClass"]={docgenInfo:getHtmlHeadUtilityClass.__docgenInfo,name:"getHtmlHeadUtilityClass",path:"src/components/HtmlHead.tsx#getHtmlHeadUtilityClass"})}catch(__react_docgen_typescript_loader_error){}try{HtmlHead.displayName="HtmlHead",HtmlHead.__docgenInfo={description:"",displayName:"HtmlHead",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},applicationName:{defaultValue:null,description:"",name:"applicationName",required:!1,type:{name:"string"}},showApplicationName:{defaultValue:null,description:"",name:"showApplicationName",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/HtmlHead.tsx#HtmlHead"]={docgenInfo:HtmlHead.__docgenInfo,name:"HtmlHead",path:"src/components/HtmlHead.tsx#HtmlHead"})}catch(__react_docgen_typescript_loader_error){}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["className","showDefaultPageLinks","title","heading","description","errorCode","tools"];function getErrorPageUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Z)("MuiErrorPage",slot)}(0,generateUtilityClasses.Z)("MuiErrorPage",["root"]);var slots={root:["root"]},ErrorPage=(0,react.forwardRef)((function ErrorPage(inProps,ref){var props=(0,useThemeProps.Z)({props:inProps,name:"MuiErrorPage"}),className=props.className,_props$showDefaultPag=props.showDefaultPageLinks,showDefaultPageLinks=void 0===_props$showDefaultPag||_props$showDefaultPag,title=props.title,heading=props.heading,description=props.description,errorCode=props.errorCode,tools=props.tools,rest=(0,objectWithoutProperties.Z)(props,_excluded),classes=(0,composeClasses.Z)(slots,getErrorPageUtilityClass,function(){if(className)return{root:className}}()),palette=(0,useTheme.Z)().palette,navigate=(0,dist.s0)(),authenticated=(0,AuthContext.aC)().authenticated;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(components_HtmlHead,{title:title}),(0,jsx_runtime.jsx)(Box.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({ref:ref},rest),{},{className:(0,clsx_m.Z)(classes.root),sx:{position:"absolute",width:"100%",minHeight:"100%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",textAlign:"center"},children:(0,jsx_runtime.jsxs)(Container.Z,{maxWidth:"sm",sx:{py:5,px:3},children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"h2",mb:2,children:heading}),description?(0,jsx_runtime.jsx)(Typography.Z,{variant:"body1",children:description}):null,(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",sx:{color:(0,colorManipulator.Fq)(palette.text.primary,.75)},children:"That’s all we know."}),(0,jsx_runtime.jsx)(Box.Z,{sx:{my:3,color:palette.error.main},children:function(){if(errorCode)return["string","number"].includes(typeof errorCode)?(0,jsx_runtime.jsx)(Typography.Z,{sx:{fontSize:120,fontWeight:"bold"},children:errorCode}):errorCode}()}),showDefaultPageLinks?(0,jsx_runtime.jsx)(Grid.ZP,{container:!0,spacing:3,sx:{maxWidth:600,justifyContent:"center"},children:tools?react.Children.toArray(tools).map((function(tool,index){return(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,sx:{minWidth:0},children:tool},index)})):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,sm:6,xs:12,children:(0,jsx_runtime.jsx)(Button.Z,{onClick:function onClick(){return navigate(-1)},color:"primary",fullWidth:!0,size:"large",children:(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",noWrap:!0,children:"Go back to the previous page"})})}),authenticated?(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,sm:6,xs:12,children:(0,jsx_runtime.jsx)(Button.Z,{component:react_router_dom_dist.rU,to:"/",color:"inherit",fullWidth:!0,size:"large",children:(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",noWrap:!0,children:"Go to home page"})})}):null]})}):null]})}))]})})),ErrorPages_ErrorPage=ErrorPage;try{getErrorPageUtilityClass.displayName="getErrorPageUtilityClass",getErrorPageUtilityClass.__docgenInfo={description:"",displayName:"getErrorPageUtilityClass",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ErrorPages/ErrorPage.tsx#getErrorPageUtilityClass"]={docgenInfo:getErrorPageUtilityClass.__docgenInfo,name:"getErrorPageUtilityClass",path:"src/components/ErrorPages/ErrorPage.tsx#getErrorPageUtilityClass"})}catch(__react_docgen_typescript_loader_error){}try{ErrorPage.displayName="ErrorPage",ErrorPage.__docgenInfo={description:"",displayName:"ErrorPage",props:{showDefaultPageLinks:{defaultValue:null,description:"",name:"showDefaultPageLinks",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},heading:{defaultValue:null,description:"",name:"heading",required:!0,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},errorCode:{defaultValue:null,description:"",name:"errorCode",required:!1,type:{name:"ReactNode"}},tools:{defaultValue:null,description:"",name:"tools",required:!1,type:{name:"ReactNode | ReactNode[]"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ErrorPages/ErrorPage.tsx#ErrorPage"]={docgenInfo:ErrorPage.__docgenInfo,name:"ErrorPage",path:"src/components/ErrorPages/ErrorPage.tsx#ErrorPage"})}catch(__react_docgen_typescript_loader_error){}},"./src/contexts/AuthContext.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{aC:function(){return useAuth}});__webpack_require__("./node_modules/@infinite-debugger/rmk-utils/StorageManager.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),AuthContext=(__webpack_require__("./src/hooks/Utils.ts"),__webpack_require__("./src/contexts/APIContext.tsx"),__webpack_require__("./src/contexts/DataStoreContext.tsx"),__webpack_require__("./node_modules/react/jsx-runtime.js"),(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({})),AuthProvider=function AuthProvider(_ref){var children=_ref.children,value=_ref.value,_useState=useState(null),_useState2=_slicedToArray(_useState,2),loggedInUser=_useState2[0],setLoggedInUser=_useState2[1],_useState3=useState(!0),_useState4=_slicedToArray(_useState3,2),loadingCurrentSession=_useState4[0],setLoadingCurrentSession=_useState4[1],setSessionExpired=useAPIContext().setSessionExpired,resetCachedData=useCachedData().reset,_useAPIService=useAPIService(loggedInUser),user=_useAPIService.record,load=_useAPIService.load,loggingIn=_useAPIService.loading,loginErrorMessage=_useAPIService.errorMessage;useEffect((function(){var user=StorageManager.get("user");setLoggedInUser(user),setLoadingCurrentSession(!1)}),[]);var updateLoggedInUserSession=useCallback((function(user){setSessionExpired(!1),StorageManager.add("user",user),setLoggedInUser(user)}),[setSessionExpired]),clearLoggedInUserSession=useCallback((function(){StorageManager.remove("user")}),[]),login=useCallback(function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(loginFunction){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:clearLoggedInUserSession(),load(loginFunction);case 2:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref2.apply(this,arguments)}}(),[clearLoggedInUserSession,load]),logoutRef=useRef(function(){var _ref3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(logout){return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(clearLoggedInUserSession(),_context2.t0=logout,!_context2.t0){_context2.next=5;break}return _context2.next=5,logout();case 5:return _context2.next=7,resetCachedData();case 7:setLoggedInUser(null);case 8:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref3.apply(this,arguments)}}()),updateLoggedInUser=useCallback((function(user){updateLoggedInUserSession(user)}),[updateLoggedInUserSession]),loggedInUserPermissions=useCallback((function(){return loggedInUser&&loggedInUser.permissions?loggedInUser.permissions:[]}),[loggedInUser]),loggedInUserHasPermission=useCallback((function(permissionCode){var permissions=loggedInUserPermissions(),isSuperAdmin=permissions.includes("ALL_FUNCTIONS");return isSuperAdmin||(Array.isArray(permissionCode)?permissionCode.some((function(permission){return permissions.includes(permission)})):permissions.includes(permissionCode))}),[loggedInUserPermissions]);return useEffect((function(){user&&updateLoggedInUserSession(user)}),[user,updateLoggedInUserSession]),_jsx(AuthContext.Provider,{value:_objectSpread({loggedInUser:loggedInUser,login:login,logout:logoutRef.current,updateLoggedInUser:updateLoggedInUser,clearLoggedInUserSession:clearLoggedInUserSession,authenticated:null!==loggedInUser,loggedInUserHasPermission:loggedInUserHasPermission,loadingCurrentSession:loadingCurrentSession,loggingIn:loggingIn,loginErrorMessage:loginErrorMessage},value),children:children})},useAuth=function useAuth(){return(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext)};try{AuthProvider.displayName="AuthProvider",AuthProvider.__docgenInfo={description:"",displayName:"AuthProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Record<string, any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/contexts/AuthContext.tsx#AuthProvider"]={docgenInfo:AuthProvider.__docgenInfo,name:"AuthProvider",path:"src/contexts/AuthContext.tsx#AuthProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/contexts/DataStoreContext.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{RB:function(){return useCachedData}});var D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_infinite_debugger_rmk_utils_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@infinite-debugger/rmk-utils/data.js"),_infinite_debugger_rmk_utils_StorageManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@infinite-debugger/rmk-utils/StorageManager.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),dataKeys=(__webpack_require__("./node_modules/react/jsx-runtime.js"),_infinite_debugger_rmk_utils_StorageManager__WEBPACK_IMPORTED_MODULE_1__.Z.get("".concat("cached-data","-keys"))||[]),baseData=_infinite_debugger_rmk_utils_StorageManager__WEBPACK_IMPORTED_MODULE_1__.Z.get("data")||{};dataKeys.forEach((function(key){var keyData=_infinite_debugger_rmk_utils_StorageManager__WEBPACK_IMPORTED_MODULE_1__.Z.get("".concat("cached-data","-").concat(key));keyData&&Object.assign(baseData,(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},key,keyData))}));var updateData=function updateData(data){if(Object.assign(baseData,data),data&&(0,_infinite_debugger_rmk_utils_data__WEBPACK_IMPORTED_MODULE_0__.Bl)(data)<=15360){if(Object.keys(data).forEach((function(key){_infinite_debugger_rmk_utils_StorageManager__WEBPACK_IMPORTED_MODULE_1__.Z.add("".concat("cached-data","-").concat(key),data[key]),dataKeys.includes(key)&&dataKeys.splice(dataKeys.indexOf(key),1),dataKeys.push(key)})),dataKeys.length>35)dataKeys.splice(0,dataKeys.length-35).forEach((function(key){_infinite_debugger_rmk_utils_StorageManager__WEBPACK_IMPORTED_MODULE_1__.Z.remove("".concat("cached-data","-").concat(key))}));_infinite_debugger_rmk_utils_StorageManager__WEBPACK_IMPORTED_MODULE_1__.Z.add("".concat("cached-data","-keys"),dataKeys)}return baseData},reset=function reset(){dataKeys.forEach((function(key){_infinite_debugger_rmk_utils_StorageManager__WEBPACK_IMPORTED_MODULE_1__.Z.remove("".concat("cached-data","-").concat(key))})),_infinite_debugger_rmk_utils_StorageManager__WEBPACK_IMPORTED_MODULE_1__.Z.remove("".concat("cached-data","-keys")),dataKeys.splice(0),Object.keys(baseData).forEach((function(key){delete baseData[key]}))},DataStoreContext=(0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)({data:baseData,updateData:updateData,reset:reset}),DataStoreProvider=function DataStoreProvider(_ref){var children=_ref.children,_useState=useState(baseData),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1],updateLocalData=useCallback((function(data){setData(_objectSpread({},updateData(data)))}),[]),localReset=useCallback((function(){reset(),setData(_objectSpread({},baseData))}),[]);return _jsx(DataStoreContext.Provider,{value:{data:data,updateData:updateLocalData,reset:localReset},children:children})},useCachedData=function useCachedData(){return(0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(DataStoreContext)};try{DataStoreProvider.displayName="DataStoreProvider",DataStoreProvider.__docgenInfo={description:"",displayName:"DataStoreProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/contexts/DataStoreContext.tsx#DataStoreProvider"]={docgenInfo:DataStoreProvider.__docgenInfo,name:"DataStoreProvider",path:"src/contexts/DataStoreContext.tsx#DataStoreProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/Utils.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Db:function(){return useMutation},PQ:function(){return useUpdate},R2:function(){return useDelete},RO:function(){return useCreate},a:function(){return useRecord},vc:function(){return usePaginatedRecords}});var D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants.ts"),_contexts_APIContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/contexts/APIContext.tsx"),_contexts_DataStoreContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/contexts/DataStoreContext.tsx"),_excluded=["load","loading","record","loaded","setLoaded"],_excluded2=["mutate","mutating","mutated","setMutated","mutatedRecord"],_excluded3=["create","creating","created","createdRecord","setCreated"],_excluded4=["mutate","mutating","mutated","setMutated","mutatedRecord"],_excluded5=["load","loading","errorMessage","busy","record","setRecord"],_excluded7=["load","loading","record","reset"],useAPIService=function useAPIService(defaultValue,key){var loadOnMount=arguments.length>2&&void 0!==arguments[2]&&arguments[2],baseDefaultValue=defaultValue,isComponentMountedRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!0),taggedAPIRequestsRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),_useCachedData=(0,_contexts_DataStoreContext__WEBPACK_IMPORTED_MODULE_3__.RB)(),data=_useCachedData.data,updateData=_useCachedData.updateData;key&&data[key]&&(defaultValue=data[key]);var _useContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_APIContext__WEBPACK_IMPORTED_MODULE_2__.ye),call=_useContext.call,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue),_useState2=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState,2),record=_useState2[0],setRecord=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState4=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1],_useState5=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(loadOnMount),_useState6=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState5,2),loading=_useState6[0],setLoading=_useState6[1],_useState7=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState8=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState7,2),busy=_useState8[0],setBusy=_useState8[1],_useState9=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState10=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState9,2),errorMessage=_useState10[0],setErrorMessage=_useState10[1];(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){key&&data[key]&&isComponentMountedRef.current&&setRecord(data[key])}),[data,key]);var load=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){var _ref=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__.Z)().mark((function _callee2(apiFunction,tag){var polling,taggedAPIRequest,response,_args2=arguments;return(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(polling=_args2.length>2&&void 0!==_args2[2]&&_args2[2],!apiFunction){_context2.next=13;break}return setErrorMessage(""),setLoaded(!1),setLoading(!0),(taggedAPIRequest=function(){if(tag)return{id:tag,loading:!0}}())&&taggedAPIRequestsRef.current.push(taggedAPIRequest),_context2.next=9,call((function(){return apiFunction()})).then(function(){var _ref2=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__.Z)().mark((function _callee(payload){var response;return(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,payload;case 2:return null!=(response=_context.sent)&&(isComponentMountedRef.current&&setRecord(response),key&&updateData((0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},key,response))),isComponentMountedRef.current&&setLoaded(!0),_context.abrupt("return",payload);case 6:case"end":return _context.stop()}}),_callee)})));return function(_x3){return _ref2.apply(this,arguments)}}()).catch((function(err){String(err.message).match(_constants__WEBPACK_IMPORTED_MODULE_1__.Oj)||polling||setErrorMessage(err.message)}));case 9:return response=_context2.sent,taggedAPIRequest&&taggedAPIRequestsRef.current.includes(taggedAPIRequest)&&taggedAPIRequestsRef.current.splice(taggedAPIRequestsRef.current.indexOf(taggedAPIRequest),1),isComponentMountedRef.current&&setLoading(!1),_context2.abrupt("return",response);case 13:case"end":return _context2.stop()}}),_callee2)})));return function(_x,_x2){return _ref.apply(this,arguments)}}(),[call,key,updateData]),resetRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)((function(){setRecord(baseDefaultValue),setLoaded(!1),setLoading(loadOnMount),setBusy(!1),setErrorMessage("")}));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){return isComponentMountedRef.current=!0,function(){isComponentMountedRef.current=!1}}),[]),{errorMessage:errorMessage,setErrorMessage:setErrorMessage,load:load,loaded:loaded,loading:loading,record:record,setLoaded:setLoaded,setRecord:setRecord,busy:busy,setBusy:setBusy,taggedAPIRequests:taggedAPIRequestsRef.current,reset:resetRef.current}},useMutation=function useMutation(inputMutate){var _useAPIService=useAPIService(null),baseMutate=_useAPIService.load,mutating=_useAPIService.loading,mutatedRecord=_useAPIService.record,mutated=_useAPIService.loaded,setMutated=_useAPIService.setLoaded,rest=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.Z)(_useAPIService,_excluded),inputMutateRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(inputMutate);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){inputMutateRef.current=inputMutate}),[inputMutate]);var mutate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return baseMutate((function(){return inputMutateRef.current.apply(inputMutateRef,args)}))}),[baseMutate]);return(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({mutate:mutate,mutating:mutating,mutated:mutated,setMutated:setMutated,mutatedRecord:mutatedRecord},rest)},useCreate=function useCreate(inputCreate){var _useMutation=useMutation(inputCreate),create=_useMutation.mutate,creating=_useMutation.mutating,created=_useMutation.mutated,setCreated=_useMutation.setMutated,createdRecord=_useMutation.mutatedRecord,rest=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.Z)(_useMutation,_excluded2);return(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({create:create,creating:creating,created:created,setCreated:setCreated,createdRecord:createdRecord},rest)},useUpdate=function useUpdate(inputUpdate){var _useCreate=useCreate(inputUpdate),create=_useCreate.create,creating=_useCreate.creating,created=_useCreate.created,createdRecord=_useCreate.createdRecord,setCreated=_useCreate.setCreated,rest=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.Z)(_useCreate,_excluded3);return(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({update:create,updating:creating,updated:created,updatedRecord:createdRecord,setUpdated:setCreated},rest)},useDelete=function useDelete(inputDelete){var _useMutation2=useMutation(inputDelete),_delete=_useMutation2.mutate,deleting=_useMutation2.mutating,deleted=_useMutation2.mutated,setDeleted=_useMutation2.setMutated,deletedRecord=_useMutation2.mutatedRecord,rest=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.Z)(_useMutation2,_excluded4);return(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({_delete:_delete,deleting:deleting,deleted:deleted,setDeleted:setDeleted,deletedRecord:deletedRecord},rest)},useRecord=function useRecord(recordFinder){var _ref3=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},defaultValue=_ref3.defaultValue,key=_ref3.key,_ref3$loadOnMount=_ref3.loadOnMount,loadOnMount=void 0===_ref3$loadOnMount||_ref3$loadOnMount,_ref3$autoSync=_ref3.autoSync,autoSync=void 0!==_ref3$autoSync&&_ref3$autoSync,revalidationKey=_ref3.revalidationKey,isInitialMountRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!0),nextSyncTimeoutRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),recordFinderRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(recordFinder);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){recordFinderRef.current=recordFinder}),[recordFinder]);var _useAPIService2=useAPIService(defaultValue,key,loadOnMount),baseLoad=_useAPIService2.load,loading=_useAPIService2.loading,errorMessage=_useAPIService2.errorMessage,busy=_useAPIService2.busy,record=_useAPIService2.record,setRecord=_useAPIService2.setRecord,rest=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.Z)(_useAPIService2,_excluded5),load=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return baseLoad((function(){return recordFinderRef.current?recordFinderRef.current.apply(recordFinderRef,args):Promise.resolve()}))}),[baseLoad]),poll=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){return baseLoad(recordFinderRef.current,void 0,!0)}),[baseLoad]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){loadOnMount&&isInitialMountRef.current&&load()}),[load,loadOnMount]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){!isInitialMountRef.current&&revalidationKey&&load()}),[load,revalidationKey]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(autoSync&&!busy&&!loading&&!errorMessage){var blurTime,mouseMoveEventCallback=function mouseMoveEventCallback(){null!==nextSyncTimeoutRef.current&&clearTimeout(nextSyncTimeoutRef.current),nextSyncTimeoutRef.current=setTimeout((function(){poll()}),3e5)},visiblityChangeEventCallback=function visiblityChangeEventCallback(event){null!==nextSyncTimeoutRef.current&&clearTimeout(nextSyncTimeoutRef.current),window.removeEventListener("mousemove",mouseMoveEventCallback),document.hidden?blurTime=Date.now():(window.addEventListener("mousemove",mouseMoveEventCallback),mouseMoveEventCallback(),event&&null!=blurTime&&Date.now()-blurTime>=6e4&&poll())};return document.addEventListener("visibilitychange",visiblityChangeEventCallback),visiblityChangeEventCallback(),function(){window.removeEventListener("mousemove",mouseMoveEventCallback),document.removeEventListener("visibilitychange",visiblityChangeEventCallback),null!==nextSyncTimeoutRef.current&&clearTimeout(nextSyncTimeoutRef.current)}}}),[autoSync,busy,errorMessage,loading,poll]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){return isInitialMountRef.current=!1,function(){isInitialMountRef.current=!0}}),[]),(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({load:load,loading:loading,errorMessage:errorMessage,record:null!=record?record:null,setRecord:setRecord,busy:busy},rest)},usePaginatedRecords=function usePaginatedRecords(recordFinder){var _ref5=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},key=_ref5.key,_ref5$loadOnMount=_ref5.loadOnMount,loadOnMount=void 0===_ref5$loadOnMount||_ref5$loadOnMount,_ref5$limit=_ref5.limit,limit=void 0===_ref5$limit?100:_ref5$limit,_ref5$offset=_ref5.offset,offset=void 0===_ref5$offset?0:_ref5$offset,searchTerm=_ref5.searchTerm,_ref5$showRecords=_ref5.showRecords,showRecords=void 0===_ref5$showRecords||_ref5$showRecords,loadedPagesMap=_ref5.loadedPagesMap,revalidationKey=_ref5.revalidationKey,_ref5$autoSync=_ref5.autoSync,autoSync=void 0===_ref5$autoSync||_ref5$autoSync,_ref5$canLoadNextPage=_ref5.canLoadNextPage,canLoadNextPage=void 0===_ref5$canLoadNextPage||_ref5$canLoadNextPage,isInitialMountRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!0),pendingRecordRequestControllers=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),recordFinderRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(recordFinder);recordFinderRef.current=recordFinder;var loadedPagesMapRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(loadedPagesMap);loadedPagesMapRef.current=loadedPagesMap;var recordsTotalCountRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0),hasNextPageRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!0),limitRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(limit);limitRef.current=limit;var offsetRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(offset);offsetRef.current=offset;var searchTermRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(searchTerm);searchTermRef.current=searchTerm;var lastLoadedPageRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(void 0),_useAPIService3=useAPIService(null,function(){if(key)return"".concat(key,"_").concat(limit,"_").concat(offset,"_").concat(String(showRecords))}(),loadOnMount),loadFromAPIService=_useAPIService3.load,loading=_useAPIService3.loading,responseData=_useAPIService3.record,rest=(_useAPIService3.reset,(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.Z)(_useAPIService3,_excluded7)),loadedPages=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return loadedPagesMapRef.current||new Map}),[]),load=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){var params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(params=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({},params)).offset||(params.offset=offsetRef.current),params.limit||(params.limit=limitRef.current),params.searchTerm||(params.searchTerm=searchTermRef.current),loadFromAPIService((0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__.Z)().mark((function _callee3(){var localPendingRecordRequestControllers,responseData,records,recordsTotalCount,hasNextPage,allPageRecords;return(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_6__.Z)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return localPendingRecordRequestControllers=[],_context3.next=3,recordFinderRef.current((0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({},params),{},{getRequestController:function getRequestController(requestController){localPendingRecordRequestControllers.push(requestController),pendingRecordRequestControllers.current.push(requestController)},lastLoadedPage:lastLoadedPageRef.current})).finally((function(){localPendingRecordRequestControllers.length>0&&localPendingRecordRequestControllers.forEach((function(requestController){pendingRecordRequestControllers.current.indexOf(requestController)&&pendingRecordRequestControllers.current.splice(pendingRecordRequestControllers.current.indexOf(requestController),1)}))}));case 3:return responseData=_context3.sent,records=responseData.records,recordsTotalCount=responseData.recordsTotalCount,hasNextPage=responseData.hasNextPage,loadedPages.set(params.offset,records),allPageRecords=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__.Z)(loadedPages.keys()).sort((function(a,b){return a-b})).map((function(key){return loadedPages.get(key)})).flat(),lastLoadedPageRef.current=responseData,recordsTotalCountRef.current=recordsTotalCount,hasNextPageRef.current=null!=hasNextPage?hasNextPage:allPageRecords.length<recordsTotalCount,_context3.abrupt("return",responseData);case 11:case"end":return _context3.stop()}}),_callee3)}))))}),[loadFromAPIService,loadedPages]),loadRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(load);loadRef.current=load;var loadNextPage=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(params){if(canLoadNextPage&&!loading&&hasNextPageRef.current){var lastPageOffset=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__.Z)(loadedPages.keys()).sort((function(a,b){return b-a}))[0],lastPageRecords=loadedPages.get(lastPageOffset);lastPageRecords&&null!=lastPageOffset&&load((0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({},params),{},{offset:lastPageOffset+lastPageRecords.length,limit:limit||lastPageRecords.length}))}}),[canLoadNextPage,limit,load,loadedPages,loading]),resetRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)((function(){loadedPages.clear(),recordsTotalCountRef.current=0,hasNextPageRef.current=!0,lastLoadedPageRef.current=void 0;var requestControllersToClear=(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__.Z)(pendingRecordRequestControllers.current);requestControllersToClear.forEach((function(pendingRecordRequestController){pendingRecordRequestController.cancelRequest()})),requestControllersToClear.forEach((function(pendingRecordRequestController){pendingRecordRequestControllers.current.includes(pendingRecordRequestController)&&pendingRecordRequestControllers.current.splice(pendingRecordRequestControllers.current.indexOf(pendingRecordRequestController),1)}))}));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){!isInitialMountRef.current&&limit&&resetRef.current()}),[limit]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){loadOnMount&&isInitialMountRef.current&&loadRef.current()}),[loadOnMount]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){!isInitialMountRef.current&&(limit||searchTerm||revalidationKey)&&resetRef.current()}),[limit,revalidationKey,searchTerm]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){!isInitialMountRef.current&&autoSync&&(limit||searchTerm||offset||revalidationKey)&&loadRef.current()}),[autoSync,limit,offset,revalidationKey,searchTerm]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){return isInitialMountRef.current=!1,function(){isInitialMountRef.current=!0}}),[]),(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({currentPageRecords:loadedPages.get(offset)||[],allPageRecords:(0,D_sandbox_rmkasendwa_com_rmk_react_mui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__.Z)(loadedPages.keys()).sort((function(a,b){return a-b})).map((function(key){return loadedPages.get(key)})).flat(),recordsTotalCount:recordsTotalCountRef.current,loadedPages:loadedPages,load:load,loading:loading,loadNextPage:loadNextPage,responseData:responseData,reset:resetRef.current,hasNextPage:hasNextPageRef.current},rest)}},"?9157":function(){}}]);