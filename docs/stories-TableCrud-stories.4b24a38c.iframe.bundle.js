"use strict";(self.webpackChunk_infinite_debugger_react_mui=self.webpackChunk_infinite_debugger_react_mui||[]).push([[9809],{"./src/stories/TableCrud.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return TableCrud_stories}});var regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),Box=__webpack_require__("./node_modules/@mui/material/esm/Box/Box.js"),react=__webpack_require__("./node_modules/react/index.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),createForOfIteratorHelper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),objectDestructuringEmpty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),paths=__webpack_require__("./node_modules/@infinite-debugger/rmk-utils/paths.js"),Add=__webpack_require__("./node_modules/@mui/icons-material/Add.js"),DeleteOutline=__webpack_require__("./node_modules/@mui/icons-material/DeleteOutline.js"),Edit=__webpack_require__("./node_modules/@mui/icons-material/Edit.js"),Help=__webpack_require__("./node_modules/@mui/icons-material/Help.js"),generateUtilityClass=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js"),generateUtilityClasses=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js"),useThemeProps=__webpack_require__("./node_modules/@mui/material/esm/styles/useThemeProps.js"),composeClasses=__webpack_require__("./node_modules/@mui/utils/esm/composeClasses/composeClasses.js"),useTheme=__webpack_require__("./node_modules/@mui/material/esm/styles/useTheme.js"),useMediaQuery=__webpack_require__("./node_modules/@mui/material/esm/useMediaQuery/useMediaQuery.js"),Grid=__webpack_require__("./node_modules/@mui/material/esm/Grid/Grid.js"),Tooltip=__webpack_require__("./node_modules/@mui/material/esm/Tooltip/Tooltip.js"),Button=__webpack_require__("./node_modules/@mui/material/esm/Button/Button.js"),outlinedInputClasses=__webpack_require__("./node_modules/@mui/material/esm/OutlinedInput/outlinedInputClasses.js"),Divider=__webpack_require__("./node_modules/@mui/material/esm/Divider/Divider.js"),IconButton=__webpack_require__("./node_modules/@mui/material/esm/IconButton/IconButton.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),Transition=__webpack_require__("./node_modules/react-transition-group/esm/Transition.js"),debounce=__webpack_require__("./node_modules/@mui/material/esm/utils/debounce.js"),useForkRef=__webpack_require__("./node_modules/@mui/material/esm/utils/useForkRef.js"),utils=__webpack_require__("./node_modules/@mui/material/esm/transitions/utils.js"),ownerWindow=__webpack_require__("./node_modules/@mui/material/esm/utils/ownerWindow.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function setTranslateValue(direction,node,containerProp){const transform=function getTranslateValue(direction,node,resolvedContainer){const rect=node.getBoundingClientRect(),containerRect=resolvedContainer&&resolvedContainer.getBoundingClientRect(),containerWindow=(0,ownerWindow.Z)(node);let transform;if(node.fakeTransform)transform=node.fakeTransform;else{const computedStyle=containerWindow.getComputedStyle(node);transform=computedStyle.getPropertyValue("-webkit-transform")||computedStyle.getPropertyValue("transform")}let offsetX=0,offsetY=0;if(transform&&"none"!==transform&&"string"==typeof transform){const transformValues=transform.split("(")[1].split(")")[0].split(",");offsetX=parseInt(transformValues[4],10),offsetY=parseInt(transformValues[5],10)}return"left"===direction?containerRect?`translateX(${containerRect.right+offsetX-rect.left}px)`:`translateX(${containerWindow.innerWidth+offsetX-rect.left}px)`:"right"===direction?containerRect?`translateX(-${rect.right-containerRect.left-offsetX}px)`:`translateX(-${rect.left+rect.width-offsetX}px)`:"up"===direction?containerRect?`translateY(${containerRect.bottom+offsetY-rect.top}px)`:`translateY(${containerWindow.innerHeight+offsetY-rect.top}px)`:containerRect?`translateY(-${rect.top-containerRect.top+rect.height-offsetY}px)`:`translateY(-${rect.top+rect.height-offsetY}px)`}(direction,node,function resolveContainer(containerPropProp){return"function"==typeof containerPropProp?containerPropProp():containerPropProp}(containerProp));transform&&(node.style.webkitTransform=transform,node.style.transform=transform)}var Slide_Slide=react.forwardRef((function Slide(props,ref){const theme=(0,useTheme.Z)(),defaultEasing={enter:theme.transitions.easing.easeOut,exit:theme.transitions.easing.sharp},defaultTimeout={enter:theme.transitions.duration.enteringScreen,exit:theme.transitions.duration.leavingScreen},{addEndListener:addEndListener,appear:appear=!0,children:children,container:containerProp,direction:direction="down",easing:easingProp=defaultEasing,in:inProp,onEnter:onEnter,onEntered:onEntered,onEntering:onEntering,onExit:onExit,onExited:onExited,onExiting:onExiting,style:style,timeout:timeout=defaultTimeout,TransitionComponent:TransitionComponent=Transition.ZP}=props,other=(0,objectWithoutPropertiesLoose.Z)(props,_excluded),childrenRef=react.useRef(null),handleRef=(0,useForkRef.Z)(children.ref,childrenRef,ref),normalizedTransitionCallback=callback=>isAppearing=>{callback&&(void 0===isAppearing?callback(childrenRef.current):callback(childrenRef.current,isAppearing))},handleEnter=normalizedTransitionCallback(((node,isAppearing)=>{setTranslateValue(direction,node,containerProp),(0,utils.n)(node),onEnter&&onEnter(node,isAppearing)})),handleEntering=normalizedTransitionCallback(((node,isAppearing)=>{const transitionProps=(0,utils.C)({timeout:timeout,style:style,easing:easingProp},{mode:"enter"});node.style.webkitTransition=theme.transitions.create("-webkit-transform",(0,esm_extends.Z)({},transitionProps)),node.style.transition=theme.transitions.create("transform",(0,esm_extends.Z)({},transitionProps)),node.style.webkitTransform="none",node.style.transform="none",onEntering&&onEntering(node,isAppearing)})),handleEntered=normalizedTransitionCallback(onEntered),handleExiting=normalizedTransitionCallback(onExiting),handleExit=normalizedTransitionCallback((node=>{const transitionProps=(0,utils.C)({timeout:timeout,style:style,easing:easingProp},{mode:"exit"});node.style.webkitTransition=theme.transitions.create("-webkit-transform",transitionProps),node.style.transition=theme.transitions.create("transform",transitionProps),setTranslateValue(direction,node,containerProp),onExit&&onExit(node)})),handleExited=normalizedTransitionCallback((node=>{node.style.webkitTransition="",node.style.transition="",onExited&&onExited(node)})),updatePosition=react.useCallback((()=>{childrenRef.current&&setTranslateValue(direction,childrenRef.current,containerProp)}),[direction,containerProp]);return react.useEffect((()=>{if(inProp||"down"===direction||"right"===direction)return;const handleResize=(0,debounce.Z)((()=>{childrenRef.current&&setTranslateValue(direction,childrenRef.current,containerProp)})),containerWindow=(0,ownerWindow.Z)(childrenRef.current);return containerWindow.addEventListener("resize",handleResize),()=>{handleResize.clear(),containerWindow.removeEventListener("resize",handleResize)}}),[direction,inProp,containerProp]),react.useEffect((()=>{inProp||updatePosition()}),[inProp,updatePosition]),(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.Z)({nodeRef:childrenRef,onEnter:handleEnter,onEntered:handleEntered,onEntering:handleEntering,onExit:handleExit,onExited:handleExited,onExiting:handleExiting,addEndListener:next=>{addEndListener&&addEndListener(childrenRef.current,next)},appear:appear,in:inProp,timeout:timeout},other,{children:(state,childProps)=>react.cloneElement(children,(0,esm_extends.Z)({ref:handleRef,style:(0,esm_extends.Z)({visibility:"exited"!==state||inProp?void 0:"hidden"},style,children.props.style)},childProps))}))})),Typography=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),Card=__webpack_require__("./node_modules/@mui/material/esm/Card/Card.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),dist=__webpack_require__("./node_modules/react-router/dist/index.js"),react_router_dom_dist=__webpack_require__("./node_modules/react-router-dom/dist/index.js"),LoadingContext=__webpack_require__("./src/contexts/LoadingContext.tsx"),ReactRouterDOM=__webpack_require__("./src/hooks/ReactRouterDOM.ts"),Utils=__webpack_require__("./src/hooks/Utils.ts"),IconLoadingScreen=__webpack_require__("./src/components/IconLoadingScreen.tsx"),ModalForm=__webpack_require__("./src/components/ModalForm.tsx"),SearchSyncToolbar=__webpack_require__("./src/components/SearchSyncToolbar.tsx"),Table=__webpack_require__("./src/components/Table/index.ts"),TableCrud_excluded=["title","description","columns","selectedColumnIds","recordsFinder","recordDetailsFinder","getEditableRecordInitialValues","recordCreator","recordEditor","recordDeletor","recordKey","initialValues","validationSchema","editableFields","revalidationKey","tools","children","PaginatedTableWrapperProps","pathToAddNew","templatePathToEdit","pathToEdit","getPathToEdit","pathToView","getPathToView","onClickRow","defaultPath","viewableRecordIdPathParamKey","editValidationSchema","getTableDataReloadFunction","getCreateFunction","getEditFunction","getDeleteFunction","getToolbarElement","onEditRecord","sx","className","showRecords","autoSync","getExtraRowTools","extraActionsColumnWidth","SearchSyncToolbarProps","getViewTitle","placement","ModalFormProps"],_excluded2=["sx"],_excluded3=["sx"];function getTableCrudUtilityClass(slot){return(0,generateUtilityClass.Z)("MuiTableCrud",slot)}(0,generateUtilityClasses.Z)("MuiTableCrud",["root"]);var slots={root:["root"]},BaseTableCrud=function BaseTableCrud(inProps,ref){var props=(0,useThemeProps.Z)({props:inProps,name:"MuiTableCrud"}),_omit=(0,lodash.omit)(props,"labelPlural","labelSingular"),title=_omit.title,description=_omit.description,columns=_omit.columns,selectedColumnIds=_omit.selectedColumnIds,recordsFinder=_omit.recordsFinder,recordDetailsFinder=_omit.recordDetailsFinder,getEditableRecordInitialValues=_omit.getEditableRecordInitialValues,recordCreator=_omit.recordCreator,recordEditor=_omit.recordEditor,recordDeletor=_omit.recordDeletor,recordKey=_omit.recordKey,initialValues=_omit.initialValues,validationSchema=_omit.validationSchema,editableFields=_omit.editableFields,_omit$revalidationKey=_omit.revalidationKey,revalidationKey=void 0===_omit$revalidationKey?"":_omit$revalidationKey,_omit$tools=_omit.tools,tools=void 0===_omit$tools?[]:_omit$tools,_children=_omit.children,_omit$PaginatedTableW=_omit.PaginatedTableWrapperProps,PaginatedTableWrapperProps=void 0===_omit$PaginatedTableW?{}:_omit$PaginatedTableW,pathToAddNew=_omit.pathToAddNew,templatePathToEdit=_omit.templatePathToEdit,pathToEdit=_omit.pathToEdit,getPathToEdit=_omit.getPathToEdit,pathToView=_omit.pathToView,getPathToView=_omit.getPathToView,onClickRow=_omit.onClickRow,defaultPath=_omit.defaultPath,viewableRecordIdPathParamKey=_omit.viewableRecordIdPathParamKey,editValidationSchema=_omit.editValidationSchema,getTableDataReloadFunction=_omit.getTableDataReloadFunction,getCreateFunction=_omit.getCreateFunction,getEditFunction=_omit.getEditFunction,getDeleteFunction=_omit.getDeleteFunction,getToolbarElement=_omit.getToolbarElement,onEditRecord=_omit.onEditRecord,sx=_omit.sx,className=_omit.className,_omit$showRecords=_omit.showRecords,showRecords=void 0===_omit$showRecords||_omit$showRecords,_omit$autoSync=_omit.autoSync,autoSync=void 0===_omit$autoSync||_omit$autoSync,getExtraRowTools=_omit.getExtraRowTools,extraActionsColumnWidth=_omit.extraActionsColumnWidth,_omit$SearchSyncToolb=_omit.SearchSyncToolbarProps,SearchSyncToolbarProps=void 0===_omit$SearchSyncToolb?{}:_omit$SearchSyncToolb,getViewTitle=_omit.getViewTitle,_omit$placement=_omit.placement,placement=void 0===_omit$placement?"right":_omit$placement,_omit$ModalFormProps=_omit.ModalFormProps,ModalFormProps=void 0===_omit$ModalFormProps?{}:_omit$ModalFormProps,rest=(0,objectWithoutProperties.Z)(_omit,TableCrud_excluded),labelPlural=props.labelPlural,labelSingular=props.labelSingular,classes=(0,composeClasses.Z)(slots,getTableCrudUtilityClass,function(){if(className)return{root:className}}());labelPlural||"string"!=typeof title||(labelPlural=title),!labelSingular&&labelPlural&&(labelSingular=labelPlural.replace(/s$/gi,""));var lowercaseLabelSingular=(labelSingular||"").toLowerCase(),PaginatedTableWrapperPropsSx=PaginatedTableWrapperProps.sx,PaginatedTableWrapperPropsRest=(0,objectWithoutProperties.Z)(PaginatedTableWrapperProps,_excluded2),SearchSyncToolbarPropsSx=SearchSyncToolbarProps.sx,SearchSyncToolbarPropsRest=(0,objectWithoutProperties.Z)(SearchSyncToolbarProps,_excluded3),ModalFormPropsRest=Object.assign({},((0,objectDestructuringEmpty.Z)(ModalFormProps),ModalFormProps)),getEditableRecordInitialValuesRef=(0,react.useRef)(getEditableRecordInitialValues);getEditableRecordInitialValuesRef.current=getEditableRecordInitialValues;var getExtraRowToolsRef=(0,react.useRef)(getExtraRowTools);getExtraRowToolsRef.current=getExtraRowTools;var _step,_useMemo=(0,react.useMemo)((function(){var key=(labelSingular||"Record").replace(/\s/g,"");return{createRecordSearchParamKey:"create".concat(key),viewRecordSearchParamKey:"selected".concat(key),editRecordSearchParamKey:"edit"}}),[labelSingular]),createRecordSearchParamKey=_useMemo.createRecordSearchParamKey,viewRecordSearchParamKey=_useMemo.viewRecordSearchParamKey,editRecordSearchParamKey=_useMemo.editRecordSearchParamKey,_useTheme=(0,useTheme.Z)(),palette=_useTheme.palette,breakpoints=_useTheme.breakpoints,isSmallScreenSize=(0,useMediaQuery.Z)(breakpoints.down("sm")),pathname=(0,dist.TH)().pathname,params=(0,dist.UO)(),navigate=(0,dist.s0)(),_useReactRouterDOMSea=(0,ReactRouterDOM.V)(),searchParams=_useReactRouterDOMSea.searchParams,setSearchParams=_useReactRouterDOMSea.setSearchParams,searchEntries=searchParams.entries(),allSearchParams={},_iterator=(0,createForOfIteratorHelper.Z)(searchEntries);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=(0,slicedToArray.Z)(_step.value,2),key=_step$value[0],value=_step$value[1];allSearchParams[key]=value}}catch(err){_iterator.e(err)}finally{_iterator.f()}var _useState=(0,react.useState)(0),_useState2=(0,slicedToArray.Z)(_useState,2),offset=_useState2[0],setOffset=_useState2[1],_useState3=(0,react.useState)(50),_useState4=(0,slicedToArray.Z)(_useState3,2),limit=_useState4[0],setLimit=_useState4[1],_useState5=(0,react.useState)(""),_useState6=(0,slicedToArray.Z)(_useState5,2),searchTerm=_useState6[0],setSearchTerm=_useState6[1],_useState7=(0,react.useState)(""),_useState8=(0,slicedToArray.Z)(_useState7,2),deletableRecordId=_useState8[0],setDeletableRecordId=_useState8[1],viewableRecordId=viewableRecordIdPathParamKey&&params[viewableRecordIdPathParamKey]?params[viewableRecordIdPathParamKey]:searchParams.get(viewRecordSearchParamKey),editRecord=templatePathToEdit?(0,paths.matchPath)(templatePathToEdit,pathname):"true"===String(searchParams.get(editRecordSearchParamKey)).toLowerCase(),createNewRecord="true"===searchParams.get(createRecordSearchParamKey)||pathToAddNew===pathname,_useCreate=(0,Utils.RO)(recordCreator),create=_useCreate.create,creating=_useCreate.creating,created=_useCreate.created,createErrorMessage=_useCreate.errorMessage,resetCreation=_useCreate.reset,_usePaginatedRecords=(0,Utils.vc)((function(){return recordsFinder({limit:limit,offset:offset,searchTerm:searchTerm})}),{limit:limit,offset:offset,key:recordKey,revalidationKey:"".concat(revalidationKey).concat(searchTerm),loadOnMount:showRecords,autoSync:autoSync}),currentPageRecords=_usePaginatedRecords.currentPageRecords,load=_usePaginatedRecords.load,loading=_usePaginatedRecords.loading,errorMessage=_usePaginatedRecords.errorMessage,recordsTotalCount=_usePaginatedRecords.recordsTotalCount,createFunctionRef=(0,react.useRef)((function(){pathToAddNewRecord&&navigate(pathToAddNewRecord)})),editFunctionRef=(0,react.useRef)((function(record){var _objectSpread2;navigate(pathToEdit||(getPathToEdit?getPathToEdit(record):(0,paths.addSearchParams)(pathname,(0,objectSpread2.Z)((0,objectSpread2.Z)({},allSearchParams),{},(_objectSpread2={},(0,defineProperty.Z)(_objectSpread2,viewRecordSearchParamKey,String(record.id)),(0,defineProperty.Z)(_objectSpread2,editRecordSearchParamKey,"true"),_objectSpread2)))))})),deleteFunctionRef=(0,react.useRef)((function(record){setDeletableRecordId(record.id),setSelectedRecord(record)}));(0,react.useEffect)((function(){getTableDataReloadFunction&&getTableDataReloadFunction(load)}),[getTableDataReloadFunction,load]),(0,react.useEffect)((function(){getCreateFunction&&getCreateFunction(createFunctionRef.current)}),[getCreateFunction]),(0,react.useEffect)((function(){getEditFunction&&getEditFunction(editFunctionRef.current)}),[getEditFunction]),(0,react.useEffect)((function(){getDeleteFunction&&getDeleteFunction(deleteFunctionRef.current)}),[getDeleteFunction]);var _useUpdate=(0,Utils.PQ)(recordEditor),update=_useUpdate.update,updating=_useUpdate.updating,updated=_useUpdate.updated,updateErrorMessage=_useUpdate.errorMessage,resetUpdate=_useUpdate.reset,_useDelete=(0,Utils.R2)(recordDeletor),_delete=_useDelete._delete,deleting=_useDelete.deleting,deleted=_useDelete.deleted,deleteErrorMessage=_useDelete.errorMessage,resetDeletionState=_useDelete.reset;(0,react.useEffect)((function(){deleted&&(setDeletableRecordId(""),autoSync&&load())}),[autoSync,deleted,load,resetDeletionState]);var _useRecord=(0,Utils.a)((0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(){return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!recordDetailsFinder){_context.next=3;break}if(!viewableRecordId){_context.next=3;break}return _context.abrupt("return",recordDetailsFinder(viewableRecordId));case 3:case"end":return _context.stop()}}),_callee)}))),{loadOnMount:!1}),loadRecordDetails=_useRecord.load,loadingRecordDetails=_useRecord.loading,loadingRecordDetailsErrorMessage=_useRecord.errorMessage,selectedRecord=_useRecord.record,setSelectedRecord=_useRecord.setRecord,editInitialValues=getEditableRecordInitialValuesRef.current&&selectedRecord?getEditableRecordInitialValuesRef.current(selectedRecord):(0,objectSpread2.Z)((0,objectSpread2.Z)({},initialValues),selectedRecord);(0,react.useEffect)((function(){viewableRecordId&&loadRecordDetails()}),[loadRecordDetails,viewableRecordId]);var loadingState,descriptionElement=function(){if(description)return(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,sx:{display:"flex"},children:(0,jsx_runtime.jsx)(Tooltip.Z,{title:description,children:(0,jsx_runtime.jsx)(Help.Z,{sx:{fontSize:18}})})})}(),pathToAddNewRecord=pathToAddNew||(validationSchema&&recordCreator?(0,paths.addSearchParams)(pathname,(0,objectSpread2.Z)((0,objectSpread2.Z)({},allSearchParams),{},(0,defineProperty.Z)({},createRecordSearchParamKey,"true"))):void 0),isEditable=Boolean(recordEditor||pathToEdit||getPathToEdit),isDeletable=Boolean(recordDeletor),toolbarElement=(0,jsx_runtime.jsx)(SearchSyncToolbar.ZP,(0,objectSpread2.Z)((0,objectSpread2.Z)({},SearchSyncToolbarPropsRest),{},{load:load,loading:loading,errorMessage:errorMessage,searchTerm:searchTerm,title:function(){if(title)return(0,jsx_runtime.jsxs)(Grid.ZP,{container:!0,sx:{alignItems:"center",gap:1},children:[(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,children:title}),descriptionElement]})}(),hasSearchTool:!0,searchFieldOpen:!0,onSearch:function onSearch(searchTerm){return setSearchTerm(searchTerm)},searchFieldPlaceholder:"Search ".concat(labelPlural),tools:[].concat((0,toConsumableArray.Z)(tools),(0,toConsumableArray.Z)(pathToAddNewRecord?[(0,jsx_runtime.jsxs)(Button.Z,{variant:"contained",startIcon:(0,jsx_runtime.jsx)(Add.Z,{}),component:react_router_dom_dist.rU,to:pathToAddNewRecord,children:["Add ",labelSingular]},"addButton")]:[])),sx:(0,objectSpread2.Z)((0,defineProperty.Z)({},".".concat(outlinedInputClasses.Z.root),{bgcolor:palette.background.paper}),SearchSyncToolbarPropsSx)}));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[function(){if(showRecords)return(0,jsx_runtime.jsxs)(Box.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[getToolbarElement?getToolbarElement(toolbarElement):toolbarElement,(0,jsx_runtime.jsxs)(Box.Z,{sx:{display:"flex",flexDirection:"column",flex:1,minHeight:0},children:[(0,jsx_runtime.jsx)(Divider.Z,{}),recordsTotalCount<=0&&(loading||errorMessage)?(0,jsx_runtime.jsx)(IconLoadingScreen.Z,{errorMessage:errorMessage,load:load,loading:loading,recordLabelPlural:labelPlural,recordLabelSingular:labelSingular,pathToAddNew:pathToAddNewRecord}):(0,jsx_runtime.jsx)(Table.ZP,(0,objectSpread2.Z)((0,objectSpread2.Z)({stickyHeader:!0,minColumnWidth:220,enableColumnDisplayToggle:!0,textTransform:!0,ref:ref},rest),{},{className:(0,clsx_m.Z)(classes.root),labelPlural:labelPlural,labelSingular:labelSingular,columns:[].concat((0,toConsumableArray.Z)(columns),(0,toConsumableArray.Z)(isEditable||isDeletable||getExtraRowToolsRef.current?[{id:"actions",label:"Actions",width:(width=0,isEditable&&(width+=42),isDeletable&&(width+=42),extraActionsColumnWidth&&(width+=extraActionsColumnWidth),width),getColumnValue:function getColumnValue(record){return(0,jsx_runtime.jsxs)(Grid.ZP,{className:"row-tools",container:!0,sx:{justifyContent:"end",alignItems:"center"},children:[getExtraRowToolsRef.current?(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,xs:!0,sx:{minWidth:0},children:getExtraRowToolsRef.current(record)}):null,function(){if(isEditable)return(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,children:(0,jsx_runtime.jsx)(Tooltip.Z,{title:"Edit",PopperProps:{sx:{pointerEvents:"none"}},children:(0,jsx_runtime.jsx)(IconButton.Z,{onClick:function onClick(){editFunctionRef.current(record)},children:(0,jsx_runtime.jsx)(Edit.Z,{color:"inherit"})})})})}(),isDeletable?(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,children:(0,jsx_runtime.jsx)(Tooltip.Z,{title:"Delete",PopperProps:{sx:{pointerEvents:"none"}},children:(0,jsx_runtime.jsx)(IconButton.Z,{onClick:function onClick(){deleteFunctionRef.current(record)},children:(0,jsx_runtime.jsx)(DeleteOutline.Z,{color:"error"})})})}):null]})},showHeaderText:!1,opaque:!0,propagateClickToParentRowClickEvent:!1,sx:{position:"sticky",right:0,"&,&>div":{p:0}}}]:[])),selectedColumnIds:function(){if(selectedColumnIds)return["number"].concat((0,toConsumableArray.Z)(selectedColumnIds||[]),["actions"])}(),rows:currentPageRecords,onClickRow:null!=onClickRow?onClickRow:function(record){var id=record.id,pathToViewRecord=pathToView||(getPathToView?getPathToView(record):(0,paths.addSearchParams)(pathname,(0,objectSpread2.Z)((0,objectSpread2.Z)({},allSearchParams),{},(0,defineProperty.Z)({},viewRecordSearchParamKey,String(id)))));navigate(pathToViewRecord)},totalRowCount:recordsTotalCount,rowsPerPage:limit,onRowsPerPageChange:function onRowsPerPageChange(rowsPerPage){setLimit(rowsPerPage)},onChangePage:function onChangePage(pageIndex){setOffset(limit*pageIndex)},PaginatedTableWrapperProps:(0,objectSpread2.Z)((0,objectSpread2.Z)({},PaginatedTableWrapperPropsRest),{},{sx:(0,objectSpread2.Z)((0,objectSpread2.Z)({bgcolor:palette.background.paper},PaginatedTableWrapperPropsSx),{},{flex:1,minHeight:0,overflow:"hidden"})}),showRowNumber:!0,sx:(0,objectSpread2.Z)((0,objectSpread2.Z)({},sx),{},{tr:(0,objectSpread2.Z)({},null==sx?void 0:sx.tr)})}))]}),pathToAddNewRecord&&isSmallScreenSize?(0,jsx_runtime.jsx)(Button.Z,{component:react_router_dom_dist.rU,to:pathToAddNewRecord,color:"primary",variant:"contained",sx:{p:0,minWidth:"auto",width:50,height:50,borderRadius:"50%",position:"fixed",bottom:16,right:16},children:(0,jsx_runtime.jsx)(Add.Z,{})}):null]});var width}(),function(){if((viewableRecordId||validationSchema&&initialValues)&&_children){var hasFormProps=Boolean(validationSchema&&initialValues),modalFormProps=(0,objectSpread2.Z)((0,objectSpread2.Z)({placement:placement,showCloseIconButton:!1},ModalFormPropsRest),{},{FormikProps:{enableReinitialize:!0},SearchSyncToolbarProps:{TitleProps:{sx:{fontSize:24,fontWeight:500}}}});return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[hasFormProps?(0,jsx_runtime.jsx)(ModalForm.ZP,(0,objectSpread2.Z)((0,objectSpread2.Z)({lockSubmitIfNoChange:!1},modalFormProps),{},{validationSchema:validationSchema,initialValues:initialValues,open:createNewRecord,errorMessage:createErrorMessage,title:(0,jsx_runtime.jsxs)(Grid.ZP,{container:!0,sx:{alignItems:"center",gap:1},children:[(0,jsx_runtime.jsxs)(Grid.ZP,{item:!0,children:["Create New ",labelSingular]}),descriptionElement]}),submitButtonText:"Create",loading:creating,onSubmit:function(){var _ref2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee2(values){return(0,regeneratorRuntime.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!recordCreator){_context2.next=3;break}return _context2.next=3,create(values);case 3:case"end":return _context2.stop()}}),_callee2)})));return function(_x){return _ref2.apply(this,arguments)}}(),onClose:function onClose(){resetCreation(),created&&autoSync&&load(),defaultPath?navigate(defaultPath):setSearchParams((0,defineProperty.Z)({},createRecordSearchParamKey,null))},getModalElement:function getModalElement(modalElement){return(0,jsx_runtime.jsx)(Slide_Slide,{direction:"left",in:createNewRecord,mountOnEnter:!0,unmountOnExit:!0,children:modalElement})},submitted:created,children:function children(_ref3){var rest=Object.assign({},((0,objectDestructuringEmpty.Z)(_ref3),_ref3));return"function"==typeof _children?_children((0,objectSpread2.Z)({mode:"create",loadingState:{loading:!1}},rest)):_children}})):null,(loadingState={loading:loadingRecordDetails,errorMessage:loadingRecordDetailsErrorMessage,load:loadRecordDetails,locked:!editRecord},(0,jsx_runtime.jsx)(LoadingContext.PK,{value:loadingState,children:(0,jsx_runtime.jsx)(ModalForm.ZP,(0,objectSpread2.Z)((0,objectSpread2.Z)({showEditButton:Boolean(recordEditor)},modalFormProps),{},{editableFields:editableFields,validationSchema:editValidationSchema||validationSchema,initialValues:editInitialValues,open:Boolean(viewableRecordId),errorMessage:updateErrorMessage,title:(0,jsx_runtime.jsxs)(Grid.ZP,{container:!0,sx:{alignItems:"center",gap:1},children:[(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,children:editRecord?"Edit ".concat(labelSingular):getViewTitle&&selectedRecord?getViewTitle(selectedRecord):labelSingular}),descriptionElement]}),submitButtonText:"Update",loading:updating,onSubmit:function(){var _ref4=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee3(values){return(0,regeneratorRuntime.Z)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!recordEditor||!selectedRecord){_context3.next=3;break}return _context3.next=3,update(selectedRecord,values);case 3:case"end":return _context3.stop()}}),_callee3)})));return function(_x2){return _ref4.apply(this,arguments)}}(),onClose:function onClose(){var _setSearchParams2;resetUpdate(),updated&&(onEditRecord&&onEditRecord(),autoSync&&load()),defaultPath?navigate(defaultPath):setSearchParams((_setSearchParams2={},(0,defineProperty.Z)(_setSearchParams2,viewRecordSearchParamKey,null),(0,defineProperty.Z)(_setSearchParams2,editRecordSearchParamKey,null),_setSearchParams2))},getModalElement:function getModalElement(modalElement){return(0,jsx_runtime.jsx)(Slide_Slide,{direction:"left",in:Boolean(viewableRecordId),mountOnEnter:!0,unmountOnExit:!0,children:modalElement})},submitted:updated,editMode:editRecord,SearchSyncToolbarProps:(0,objectSpread2.Z)((0,objectSpread2.Z)({},modalFormProps.SearchSyncToolbarProps),{},{load:loadRecordDetails,loading:loadingRecordDetails,errorMessage:loadingRecordDetailsErrorMessage,hasSyncTool:!0}),onClickEdit:function onClickEdit(){var pathToEditRecord=pathToEdit||(getPathToEdit&&selectedRecord?getPathToEdit(selectedRecord):(0,paths.addSearchParams)(pathname,(0,objectSpread2.Z)((0,objectSpread2.Z)({},allSearchParams),{},(0,defineProperty.Z)({},editRecordSearchParamKey,"true"))));navigate(pathToEditRecord)},children:function children(_ref5){var rest=Object.assign({},((0,objectDestructuringEmpty.Z)(_ref5),_ref5));return"function"==typeof _children?_children((0,objectSpread2.Z)({mode:editRecord?"edit":"view",selectedRecord:selectedRecord,loadingState:loadingState},rest)):_children}}))}))]})}var loadingState}(),(loadingState={loading:loadingRecordDetails,errorMessage:loadingRecordDetailsErrorMessage,load:loadRecordDetails,locked:!0},(0,jsx_runtime.jsx)(LoadingContext.PK,{value:loadingState,children:(0,jsx_runtime.jsx)(ModalForm.ZP,{validationSchema:validationSchema,initialValues:(0,objectSpread2.Z)({},selectedRecord),title:(0,jsx_runtime.jsxs)(Grid.ZP,{container:!0,sx:{alignItems:"center",gap:1},children:[(0,jsx_runtime.jsxs)(Grid.ZP,{item:!0,children:["Delete ",labelSingular]}),descriptionElement]}),open:Boolean(selectedRecord&&selectedRecord.id===deletableRecordId),onSubmit:(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee4(){return(0,regeneratorRuntime.Z)().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!recordDeletor||!selectedRecord){_context4.next=3;break}return _context4.next=3,_delete(selectedRecord);case 3:case"end":return _context4.stop()}}),_callee4)}))),onClose:function onClose(){setDeletableRecordId(""),resetDeletionState()},CloseActionButtonProps:{children:"Cancel"},loading:deleting,errorMessage:deleteErrorMessage,submitButtonText:"Delete",SubmitButtonProps:{color:"error"},staticEntityDetails:(0,jsx_runtime.jsxs)(Typography.Z,{variant:"body2",color:"error",sx:{fontWeight:"bold"},children:["Please confirm that you want to delete this"," ",lowercaseLabelSingular,"."]}),lockSubmitIfNoChange:!1,children:function children(_ref7){var rest=Object.assign({},((0,objectDestructuringEmpty.Z)(_ref7),_ref7));return(0,jsx_runtime.jsx)(Card.Z,{sx:{p:2,bgcolor:palette.divider},children:"function"==typeof _children?_children((0,objectSpread2.Z)({mode:"view",selectedRecord:selectedRecord,loadingState:loadingState},rest)):_children})}})}))]})},TableCrud=(0,react.forwardRef)(BaseTableCrud),components_TableCrud=TableCrud;try{getTableCrudUtilityClass.displayName="getTableCrudUtilityClass",getTableCrudUtilityClass.__docgenInfo={description:"",displayName:"getTableCrudUtilityClass",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TableCrud.tsx#getTableCrudUtilityClass"]={docgenInfo:getTableCrudUtilityClass.__docgenInfo,name:"getTableCrudUtilityClass",path:"src/components/TableCrud.tsx#getTableCrudUtilityClass"})}catch(__react_docgen_typescript_loader_error){}try{TableCrud.displayName="TableCrud",TableCrud.__docgenInfo={description:"",displayName:"TableCrud",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},recordsFinder:{defaultValue:null,description:"",name:"recordsFinder",required:!0,type:{name:'(options: Pick<UsePaginatedRecordsOptions<RecordRow>, "offset" | "searchTerm" | "limit">) => Promise<PaginatedResponseData<RecordRow>>'}},recordDetailsFinder:{defaultValue:null,description:"",name:"recordDetailsFinder",required:!1,type:{name:"((selectedRecordId: string) => Promise<RecordRow>)"}},getEditableRecordInitialValues:{defaultValue:null,description:"",name:"getEditableRecordInitialValues",required:!1,type:{name:"((record: RecordRow) => any)"}},recordCreator:{defaultValue:null,description:"",name:"recordCreator",required:!1,type:{name:"((values: InitialValues) => any)"}},recordEditor:{defaultValue:null,description:"",name:"recordEditor",required:!1,type:{name:"((record: RecordRow, values: InitialValues) => any)"}},recordDeletor:{defaultValue:null,description:"",name:"recordDeletor",required:!1,type:{name:"((record: RecordRow) => any)"}},recordKey:{defaultValue:null,description:"",name:"recordKey",required:!1,type:{name:"string"}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormikValues"}},editValidationSchema:{defaultValue:null,description:"",name:"editValidationSchema",required:!1,type:{name:"any"}},defaultPath:{defaultValue:null,description:"",name:"defaultPath",required:!1,type:{name:"string"}},pathToAddNew:{defaultValue:null,description:"",name:"pathToAddNew",required:!1,type:{name:"string"}},getTableDataReloadFunction:{defaultValue:null,description:"",name:"getTableDataReloadFunction",required:!1,type:{name:"((reloadFunction: () => void) => void)"}},getCreateFunction:{defaultValue:null,description:"",name:"getCreateFunction",required:!1,type:{name:"((createFunction: () => void) => void)"}},getEditFunction:{defaultValue:null,description:"",name:"getEditFunction",required:!1,type:{name:"((editFunction: (record: RecordRow) => void) => void)"}},getDeleteFunction:{defaultValue:null,description:"",name:"getDeleteFunction",required:!1,type:{name:"((editFunction: (record: RecordRow) => void) => void)"}},onEditRecord:{defaultValue:null,description:"",name:"onEditRecord",required:!1,type:{name:"(() => void)"}},getToolbarElement:{defaultValue:null,description:"",name:"getToolbarElement",required:!1,type:{name:"((toolbarElement: ReactElement<any, string | JSXElementConstructor<any>>) => ReactElement<any, string | JSXElementConstructor<any>>)"}},templatePathToView:{defaultValue:null,description:"",name:"templatePathToView",required:!1,type:{name:"string"}},pathToView:{defaultValue:null,description:"",name:"pathToView",required:!1,type:{name:"string"}},getPathToView:{defaultValue:null,description:"",name:"getPathToView",required:!1,type:{name:"((record: RecordRow) => string)"}},viewableRecordIdPathParamKey:{defaultValue:null,description:"",name:"viewableRecordIdPathParamKey",required:!1,type:{name:"string"}},getViewTitle:{defaultValue:null,description:"",name:"getViewTitle",required:!1,type:{name:"((record: RecordRow) => ReactNode)"}},templatePathToEdit:{defaultValue:null,description:"",name:"templatePathToEdit",required:!1,type:{name:"string"}},pathToEdit:{defaultValue:null,description:"",name:"pathToEdit",required:!1,type:{name:"string"}},getPathToEdit:{defaultValue:null,description:"",name:"getPathToEdit",required:!1,type:{name:"((record: RecordRow) => string)"}},showRecords:{defaultValue:null,description:"",name:"showRecords",required:!1,type:{name:"boolean"}},getExtraRowTools:{defaultValue:null,description:"",name:"getExtraRowTools",required:!1,type:{name:"((record: RecordRow) => ReactNode)"}},extraActionsColumnWidth:{defaultValue:null,description:"",name:"extraActionsColumnWidth",required:!1,type:{name:"number"}},SearchSyncToolbarProps:{defaultValue:null,description:"",name:"SearchSyncToolbarProps",required:!1,type:{name:"Partial<SearchSyncToolbarProps>"}},ModalFormProps:{defaultValue:null,description:"",name:"ModalFormProps",required:!1,type:{name:"Partial<ModalFormProps<any>>"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<RecordRow, TableColumnType>[]"}},stickyHeader:{defaultValue:null,description:"",name:"stickyHeader",required:!1,type:{name:"boolean"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},rows:{defaultValue:null,description:"",name:"rows",required:!1,type:{name:"RecordRow[]"}},columnTypographyProps:{defaultValue:null,description:"",name:"columnTypographyProps",required:!1,type:{name:'Partial<TypographyProps<"span", {}>>'}},decimalPlaces:{defaultValue:null,description:"",name:"decimalPlaces",required:!1,type:{name:"number"}},defaultColumnValue:{defaultValue:null,description:"",name:"defaultColumnValue",required:!1,type:{name:"ReactNode"}},defaultCountryCode:{defaultValue:null,description:"",name:"defaultCountryCode",required:!1,type:{name:"enum",value:[{value:'"AD"'},{value:'"AE"'},{value:'"AF"'},{value:'"AG"'},{value:'"AI"'},{value:'"AL"'},{value:'"AM"'},{value:'"AO"'},{value:'"AQ"'},{value:'"AR"'},{value:'"AS"'},{value:'"AT"'},{value:'"AU"'},{value:'"AW"'},{value:'"AX"'},{value:'"AZ"'},{value:'"BA"'},{value:'"BB"'},{value:'"BD"'},{value:'"BE"'},{value:'"BF"'},{value:'"BG"'},{value:'"BH"'},{value:'"BI"'},{value:'"BJ"'},{value:'"BL"'},{value:'"BM"'},{value:'"BN"'},{value:'"BO"'},{value:'"BQ"'},{value:'"BR"'},{value:'"BS"'},{value:'"BT"'},{value:'"BV"'},{value:'"BW"'},{value:'"BY"'},{value:'"BZ"'},{value:'"CA"'},{value:'"CC"'},{value:'"CD"'},{value:'"CF"'},{value:'"CG"'},{value:'"CH"'},{value:'"CI"'},{value:'"CK"'},{value:'"CL"'},{value:'"CM"'},{value:'"CN"'},{value:'"CO"'},{value:'"CR"'},{value:'"CU"'},{value:'"CV"'},{value:'"CW"'},{value:'"CX"'},{value:'"CY"'},{value:'"CZ"'},{value:'"DE"'},{value:'"DJ"'},{value:'"DK"'},{value:'"DM"'},{value:'"DO"'},{value:'"DZ"'},{value:'"EC"'},{value:'"EE"'},{value:'"EG"'},{value:'"EH"'},{value:'"ER"'},{value:'"ES"'},{value:'"ET"'},{value:'"FI"'},{value:'"FJ"'},{value:'"FK"'},{value:'"FM"'},{value:'"FO"'},{value:'"FR"'},{value:'"GA"'},{value:'"GB"'},{value:'"GD"'},{value:'"GE"'},{value:'"GF"'},{value:'"GG"'},{value:'"GH"'},{value:'"GI"'},{value:'"GL"'},{value:'"GM"'},{value:'"GN"'},{value:'"GP"'},{value:'"GQ"'},{value:'"GR"'},{value:'"GS"'},{value:'"GT"'},{value:'"GU"'},{value:'"GW"'},{value:'"GY"'},{value:'"HK"'},{value:'"HM"'},{value:'"HN"'},{value:'"HR"'},{value:'"HT"'},{value:'"HU"'},{value:'"ID"'},{value:'"IE"'},{value:'"IL"'},{value:'"IM"'},{value:'"IN"'},{value:'"IO"'},{value:'"IQ"'},{value:'"IR"'},{value:'"IS"'},{value:'"IT"'},{value:'"JE"'},{value:'"JM"'},{value:'"JO"'},{value:'"JP"'},{value:'"KE"'},{value:'"KG"'},{value:'"KH"'},{value:'"KI"'},{value:'"KM"'},{value:'"KN"'},{value:'"KP"'},{value:'"KR"'},{value:'"KW"'},{value:'"KY"'},{value:'"KZ"'},{value:'"LA"'},{value:'"LB"'},{value:'"LC"'},{value:'"LI"'},{value:'"LK"'},{value:'"LR"'},{value:'"LS"'},{value:'"LT"'},{value:'"LU"'},{value:'"LV"'},{value:'"LY"'},{value:'"MA"'},{value:'"MC"'},{value:'"MD"'},{value:'"ME"'},{value:'"MF"'},{value:'"MG"'},{value:'"MH"'},{value:'"MK"'},{value:'"ML"'},{value:'"MM"'},{value:'"MN"'},{value:'"MO"'},{value:'"MP"'},{value:'"MQ"'},{value:'"MR"'},{value:'"MS"'},{value:'"MT"'},{value:'"MU"'},{value:'"MV"'},{value:'"MW"'},{value:'"MX"'},{value:'"MY"'},{value:'"MZ"'},{value:'"NA"'},{value:'"NC"'},{value:'"NE"'},{value:'"NF"'},{value:'"NG"'},{value:'"NI"'},{value:'"NL"'},{value:'"NO"'},{value:'"NP"'},{value:'"NR"'},{value:'"NU"'},{value:'"NZ"'},{value:'"OM"'},{value:'"PA"'},{value:'"PE"'},{value:'"PF"'},{value:'"PG"'},{value:'"PH"'},{value:'"PK"'},{value:'"PL"'},{value:'"PM"'},{value:'"PN"'},{value:'"PR"'},{value:'"PS"'},{value:'"PT"'},{value:'"PW"'},{value:'"PY"'},{value:'"QA"'},{value:'"RE"'},{value:'"RO"'},{value:'"RS"'},{value:'"RU"'},{value:'"RW"'},{value:'"SA"'},{value:'"SB"'},{value:'"SC"'},{value:'"SD"'},{value:'"SE"'},{value:'"SG"'},{value:'"SH"'},{value:'"SI"'},{value:'"SJ"'},{value:'"SK"'},{value:'"SL"'},{value:'"SM"'},{value:'"SN"'},{value:'"SO"'},{value:'"SR"'},{value:'"SS"'},{value:'"ST"'},{value:'"SV"'},{value:'"SX"'},{value:'"SY"'},{value:'"SZ"'},{value:'"TC"'},{value:'"TD"'},{value:'"TF"'},{value:'"TG"'},{value:'"TH"'},{value:'"TJ"'},{value:'"TK"'},{value:'"TL"'},{value:'"TM"'},{value:'"TN"'},{value:'"TO"'},{value:'"TR"'},{value:'"TT"'},{value:'"TV"'},{value:'"TW"'},{value:'"TZ"'},{value:'"UA"'},{value:'"UG"'},{value:'"UM"'},{value:'"US"'},{value:'"UY"'},{value:'"UZ"'},{value:'"VA"'},{value:'"VC"'},{value:'"VE"'},{value:'"VG"'},{value:'"VI"'},{value:'"VN"'},{value:'"VU"'},{value:'"WF"'},{value:'"WS"'},{value:'"XK"'},{value:'"YE"'},{value:'"YT"'},{value:'"ZA"'},{value:'"ZM"'},{value:'"ZW"'}]}},defaultDateFormat:{defaultValue:null,description:"",name:"defaultDateFormat",required:!1,type:{name:"string"}},defaultDateTimeFormat:{defaultValue:null,description:"",name:"defaultDateTimeFormat",required:!1,type:{name:"string"}},editable:{defaultValue:null,description:"",name:"editable",required:!1,type:{name:"boolean"}},minColumnWidth:{defaultValue:null,description:"",name:"minColumnWidth",required:!1,type:{name:"number"}},noWrap:{defaultValue:{value:"false"},description:"If `true`, the text will not wrap, but instead will truncate with a text overflow ellipsis.\n\nNote that text overflow can only happen with block or inline-block level elements\n(the element needs to have a width in order to overflow).",name:"noWrap",required:!1,type:{name:"boolean"}},onClickRow:{defaultValue:null,description:"",name:"onClickRow",required:!1,type:{name:"((currentEntity: RecordRow) => void)"}},textTransform:{defaultValue:null,description:"",name:"textTransform",required:!1,type:{name:"boolean"}},selectedColumnIds:{defaultValue:null,description:"",name:"selectedColumnIds",required:!1,type:{name:"(keyof RecordRow)[]"}},onChangeSelectedColumnIds:{defaultValue:null,description:"",name:"onChangeSelectedColumnIds",required:!1,type:{name:"((selectedColumnIds: (keyof RecordRow)[]) => void)"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"stripped"'},{value:'"stripped-rows"'},{value:'"stripped-columns"'},{value:'"plain"'}]}},onRowsPerPageChange:{defaultValue:null,description:"",name:"onRowsPerPageChange",required:!1,type:{name:"((rowsPerPage: number) => void)"}},rowsPerPage:{defaultValue:null,description:"",name:"rowsPerPage",required:!1,type:{name:"number"}},rowsPerPageOptions:{defaultValue:{value:"[10, 25, 50, 100]"},description:"Customizes the options of the rows per page select field. If less than two options are\navailable, no select field will be displayed.\nUse -1 for the value with a custom label to show all the rows.",name:"rowsPerPageOptions",required:!1,type:{name:"(number | { value: number; label: string; })[]"}},rowStartIndex:{defaultValue:null,description:"",name:"rowStartIndex",required:!1,type:{name:"number"}},pageIndex:{defaultValue:null,description:"",name:"pageIndex",required:!1,type:{name:"number"}},filterdRowCount:{defaultValue:null,description:"",name:"filterdRowCount",required:!1,type:{name:"number"}},totalRowCount:{defaultValue:null,description:"",name:"totalRowCount",required:!1,type:{name:"number"}},labelPlural:{defaultValue:null,description:"",name:"labelPlural",required:!1,type:{name:"string"}},labelSingular:{defaultValue:null,description:"",name:"labelSingular",required:!1,type:{name:"string"}},lowercaseLabelPlural:{defaultValue:null,description:"",name:"lowercaseLabelPlural",required:!1,type:{name:"string"}},emptyRowsLabel:{defaultValue:null,description:"",name:"emptyRowsLabel",required:!1,type:{name:"ReactNode"}},bordersVariant:{defaultValue:null,description:"",name:"bordersVariant",required:!1,type:{name:"enum",value:[{value:'"columns"'},{value:'"none"'},{value:'"rows"'},{value:'"square"'}]}},onChangePage:{defaultValue:null,description:"",name:"onChangePage",required:!1,type:{name:"((pageIndex: number) => void)"}},forEachRowProps:{defaultValue:null,description:"",name:"forEachRowProps",required:!1,type:{name:"GetRowProps<RecordRow>"}},paging:{defaultValue:null,description:"",name:"paging",required:!1,type:{name:"boolean"}},showHeaderRow:{defaultValue:null,description:"",name:"showHeaderRow",required:!1,type:{name:"boolean"}},showDataRows:{defaultValue:null,description:"",name:"showDataRows",required:!1,type:{name:"boolean"}},HeaderRowProps:{defaultValue:null,description:"",name:"HeaderRowProps",required:!1,type:{name:'Partial<TableRowProps<"tr", {}>>'}},currencyCode:{defaultValue:null,description:"",name:"currencyCode",required:!1,type:{name:"string"}},paginationType:{defaultValue:null,description:"",name:"paginationType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"classic"'}]}},PaginationProps:{defaultValue:null,description:"",name:"PaginationProps",required:!1,type:{name:"PaginationProps"}},TableBodyRowPlaceholderProps:{defaultValue:null,description:"",name:"TableBodyRowPlaceholderProps",required:!1,type:{name:"Partial<RenderIfVisibleProps>"}},PaginatedTableWrapperProps:{defaultValue:null,description:"",name:"PaginatedTableWrapperProps",required:!1,type:{name:'Partial<BoxProps<"div", {}>>'}},parentBackgroundColor:{defaultValue:null,description:"",name:"parentBackgroundColor",required:!1,type:{name:"string"}},enableSmallScreenOptimization:{defaultValue:null,description:"",name:"enableSmallScreenOptimization",required:!1,type:{name:"boolean"}},showRowNumber:{defaultValue:null,description:"",name:"showRowNumber",required:!1,type:{name:"boolean"}},getDisplayingColumns:{defaultValue:null,description:"",name:"getDisplayingColumns",required:!1,type:{name:"((columns: TableColumn<RecordRow, TableColumnType>[]) => TableColumn<RecordRow, TableColumnType>[])"}},getEllipsisMenuToolProps:{defaultValue:null,description:"",name:"getEllipsisMenuToolProps",required:!1,type:{name:"((row: RecordRow) => EllipsisMenuIconButtonProps | null)"}},isGroupedTable:{defaultValue:null,description:"",name:"isGroupedTable",required:!1,type:{name:"boolean"}},TableGroupingProps:{defaultValue:null,description:"",name:"TableGroupingProps",required:!1,type:{name:"TableGroupingProps"}},allPropsComputed:{defaultValue:null,description:"",name:"allPropsComputed",required:!1,type:{name:"boolean"}},scrollableElement:{defaultValue:null,description:"",name:"scrollableElement",required:!1,type:{name:"HTMLElement | null"}},sortable:{defaultValue:null,description:"",name:"sortable",required:!1,type:{name:"boolean"}},handleSortOperations:{defaultValue:null,description:"",name:"handleSortOperations",required:!1,type:{name:"boolean"}},sortBy:{defaultValue:null,description:"",name:"sortBy",required:!1,type:{name:"SortBy<RecordRow>"}},onChangeSortBy:{defaultValue:null,description:"",name:"onChangeSortBy",required:!1,type:{name:"((sortOptions: SortOptions<RecordRow>) => void)"}},enableColumnDisplayToggle:{defaultValue:null,description:"",name:"enableColumnDisplayToggle",required:!1,type:{name:"boolean"}},ColumnDisplayToggleProps:{defaultValue:null,description:"",name:"ColumnDisplayToggleProps",required:!1,type:{name:'Partial<BoxProps<"div", {}>>'}},enableCheckboxRowSelectors:{defaultValue:null,description:"",name:"enableCheckboxRowSelectors",required:!1,type:{name:"boolean"}},enableCheckboxAllRowSelector:{defaultValue:null,description:"",name:"enableCheckboxAllRowSelector",required:!1,type:{name:"boolean"}},allRowsChecked:{defaultValue:null,description:"",name:"allRowsChecked",required:!1,type:{name:"boolean"}},checkedRowIds:{defaultValue:null,description:"",name:"checkedRowIds",required:!1,type:{name:"string[]"}},onChangeCheckedRowIds:{defaultValue:null,description:"",name:"onChangeCheckedRowIds",required:!1,type:{name:"((checkedRowIds: string[], allRowsChecked: boolean) => void)"}},editableFields:{defaultValue:null,description:"",name:"editableFields",required:!1,type:{name:"(keyof InitialValues)[]"}},placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"center"'},{value:'"right"'},{value:'"bottom"'},{value:'"top"'}]}},tools:{defaultValue:null,description:"Extra tools to be added to the toolbar.",name:"tools",required:!1,type:{name:"(ReactNode | Tool)[]"}},revalidationKey:{defaultValue:null,description:"",name:"revalidationKey",required:!1,type:{name:"string"}},autoSync:{defaultValue:null,description:"",name:"autoSync",required:!1,type:{name:"boolean"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TableCrud.tsx#TableCrud"]={docgenInfo:TableCrud.__docgenInfo,name:"TableCrud",path:"src/components/TableCrud.tsx#TableCrud"})}catch(__react_docgen_typescript_loader_error){}var _Default$parameters,_Default$parameters2,_Default$parameters2$,_recordCreator,_recordsFinder,contacts=__webpack_require__("./src/stories/data/contacts.tsx"),TableCrud_stories={title:"Components/Table Crud",component:components_TableCrud},baseArgs=(0,objectSpread2.Z)((0,objectSpread2.Z)({},contacts.EV),{},{columns:contacts.v6,title:"Contacts",recordsFinder:(_recordsFinder=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(_ref){var _ref$limit,limit,_ref$offset,offset,searchTerm;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _ref$limit=_ref.limit,limit=void 0===_ref$limit?100:_ref$limit,_ref$offset=_ref.offset,offset=void 0===_ref$offset?0:_ref$offset,searchTerm=_ref.searchTerm,_context.abrupt("return",new Promise((function(resolve){setTimeout((function(){var filteredOptions=contacts.Jx.filter((function(_ref2){var name=_ref2.name;return!searchTerm||String(name).toLowerCase().match(searchTerm.toLowerCase())}));resolve({records:filteredOptions.slice(offset,offset+limit),recordsTotalCount:filteredOptions.length})}),500)})));case 2:case"end":return _context.stop()}}),_callee)}))),function recordsFinder(_x){return _recordsFinder.apply(this,arguments)}),recordCreator:(_recordCreator=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee2(record){return(0,regeneratorRuntime.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",record);case 1:case"end":return _context2.stop()}}),_callee2)}))),function recordCreator(_x2){return _recordCreator.apply(this,arguments)}),validationSchema:{},children:(0,jsx_runtime.jsx)(Box.Z,{children:"Form"})}),Default=function Template(props){return(0,jsx_runtime.jsx)(Box.Z,{sx:{position:"fixed",width:"100%",height:"100%"},children:(0,jsx_runtime.jsx)(components_TableCrud,(0,objectSpread2.Z)({},props))})}.bind({});Default.args=(0,objectSpread2.Z)({},baseArgs),Default.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"props => {\n  return <Box sx={{\n    position: 'fixed',\n    width: '100%',\n    height: '100%'\n  }}>\r\n      <TableCrud {...props} />\r\n    </Box>;\n}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})});var __namedExportsOrder=["Default"]}}]);